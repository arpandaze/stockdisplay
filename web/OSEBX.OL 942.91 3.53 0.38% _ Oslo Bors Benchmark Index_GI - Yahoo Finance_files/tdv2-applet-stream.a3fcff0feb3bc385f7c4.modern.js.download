(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{1153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meta=t.stores=t.controllerViews=void 0;var a=m(n(1254)),o=m(n(2831)),i=m(n(2307)),r=m(n(2840)),s=m(n(2841)),l=m(n(2842)),u=m(n(2105)),d=m(n(1487)),c=m(n(1787)),f=m(n(1411)),p=m(n(1624));function m(e){return e&&e.__esModule?e:{default:e}}var h={Featured:o.default,MegaItem:i.default,SimpleItem:r.default,Storyline:s.default,Stream:l.default,StreamAd:u.default};t.controllerViews=h;var g={ContentStore:a.default,StreamStore:d.default,VEModuleStore:c.default,VideoCapabilitiesStore:f.default,VideoLocationStore:p.default};t.stores=g;t.meta={dependencies:["react-share-buttons","tdv2-applet-userintent"]}},1342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSrcSet=function(e){if(!e)return"";var t=Object.keys(e).reduce((function(t,n){var a=e[n];return a&&t.push(a.get("url")+" "+n),t}),[]);return t.length>1?t.join():""},t.getBaseI13n=function(e,t,n,o){var i,s,l=e.get("i13n")||a.default.Map(),u=e.get("clusterInfo")||a.default.Map(),d=e.get("isTodayItem"),c=e.get("storyline"),f=e.get("type"),h=t&&"function"==typeof t.get&&t.get("fallback"),g=t&&!h,v={ct:r[f]||f,g:e.get("id")},y=b(e.get("link")||e.get("url")||"");y&&(v.tar=y.host,v.tar_uri=y.pathname);e.get("off_network")&&(v.tar_uri="offnet");var _=e.get("title");_&&(v.slk=_);d&&(v.aid=e.get("aid",""),v.g=v.aid?v.g:-1,v.expb=0);var x=e.get("mabLogString");x&&(v.mab_test=x);if(!o){v.refcnt=c?c.size:0,v.bpos=l.get("bpos"),v.cpos=l.get("cpos"),v.cposy=l.get("cposy"),v.ss_cid=u.get("id")||d&&e.get("id")||"",v.grpt=u.get("type")||"",v.cpos!==n+1&&(v.cpos=v.cposy=n+1),c&&(i=!!c.getIn([0,"images"]),s=!!c.getIn([1,"images"])),p(e)?(v.pkgt="need_to_know",v.subsec="needtoknow"):v.pkgt=c?i&&!s?"cluster_first_img":s&&!i?"cluster_second_img":!g||i||s?h&&c?"cluster_ph_img":g?"cluster_all_img":"cluster_no_img":"cluster_no_child_imgs":g?"orphan_img":h?"orphan_ph_img":"orphan_no_img";var M=m(e);M&&(v.cnt_tpc=M)}return v},t.getSharingMetadata=u,t.getSharingGroupMetadata=function(e,t){var n=u(e,t);return{metaData:{description:n.description,link:n.url,picture:n.imageUrl,title:n.title}}},t.getTypeIcon=d,t.isAd=function(e){var t=e.get("type");return"ad"===t||"cm"===t},t.isEditorsPick=function(e){var t=e.get("listIdMixin")||e.get("editorsPick");return"true"===t||!0===t},t.isInlineVideo=function(e,t){var n=(0,o.default)(t,["video","enable_video_enrichment"]),a=e.get("video_enrichment");return"video"===e.get("type")&&(0,o.default)(t,["video","use_inline_video"])||a&&n&&a.get("uuid")},t.getItemThumbSize=function(e,t){return(0,o.default)(t,["ui","thumbnail_sizes",e.get("type")],"small")},t.getButtonsToShow=c,t.isLazyLoad=f,t.isNeedToKnow=p,t.getBaseItemState=function(e){var t=e.config,n=e.data,a=(0,o.default)(t,["ui","storyline_navparam_enabled"]);return{buttons:!f(e)&&v(e),relatedItems:h(e),storylineIds:a?g(n):[],typeIcon:d(n,t)}},t.getContentLabel=m,t.getNavParams=function(e,t){var n=e.get("clusterInfo")||a.default.Map(),o=e.get("id"),i=t.render_targets&&t.render_targets[e.get("type")],r={category:t.persist_category?t.category:"",i13n:{ss_cid:n.get("id")||e.get("isTodayItem")&&o||""},originalSite:t.content_site,pageTitle:e.get("title"),url:e.get("url"),uuid:o};i&&(r.renderTarget=i);return r},t.getRelatedItems=h,t.getStorylineIds=g,t.getVideoManagedPlayerConfig=function(e){var t,n,a,o,i;if(e){n=e.videoId||void 0,t=e.clickParams||void 0,i=e.playlist||void 0,o=e.rid||void 0,(t||o)&&(a={},t&&(a.clickParams=t),o&&(a.pageParams={_rid:o}));var r={cover:e.cover,enableAd:!!e.enableAd,enableSharedMediaStore:!0,energySaverMode:e.energySaverMode,key:n,navToUrlOnClick:e.navToUrlOnClick,yvpConfig:{autoplay:!!e.autoplay,ccode:e.ccode,cpos:e.cpos,expName:e.expName||"advance",expType:e.expType||"strm-inline",html5:!0,loop:!!e.loop,mute:"boolean"!=typeof e.mute||e.mute,playlist:i||{mediaItems:[{id:n}]},preload:!0,rapidConfig:a,replayonlyendscreen:"boolean"!=typeof e.replayonlyendscreen||e.replayonlyendscreen,sec:e.sec,showTitleOnHover:!!e.showTitleOnHover,startscreen:{showDesc:!1,showProvider:!1,showTitle:!1},stopBufferingOnPause:!!e.stopBufferingOnPause}};return void 0!==e.continuousPlay&&(r.yvpConfig.continuousPlay=!!e.continuousPlay),void 0!==e.ccOnMute&&(r.yvpConfig.ccOnMute=!!e.ccOnMute),void 0!==e.mediaItem&&(r.yvpConfig.mediaItem=e.mediaItem),void 0!==e.showTitleOnStart&&(r.yvpConfig.showTitleOnStart=!!e.showTitleOnStart),void 0!==e.showControls&&(r.yvpConfig.showControls=!!e.showControls),void 0!==e.displayMarkers&&(r.yvpConfig.displayMarkers=!!e.displayMarkers),void 0!==e.hidePlaylist&&(r.yvpConfig.hidePlaylist=!!e.hidePlaylist),void 0!==e.video_reel&&(r.yvpConfig.video_reel=!!e.video_reel),void 0!==e.YVAP&&(r.yvpConfig.YVAP=e.YVAP),r}return{}},t.parseUrl=b,t.shouldFollowLink=function(e,t){return t.ui&&!t.ui.relative_links||"/"!==e.get("link","").charAt(0)},t.shouldRenderButtons=v,t.shouldRenderComment=y,t.shouldRenderUserintent=function(e){return!!(0,o.default)(e,["ui","user_intent","enable"])},t.shouldRenderShareButtonMenu=_,t.filterStoryId=function(e,t){return e.filter((function(e){return e!==t}))};var a=i(n(21)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var r={article:"story"},s=/\./g,l="undefined"!=typeof window;function u(e,t){var n=t&&t.getPageData();return{description:e.get("summary")||e.get("description"),imageUrl:e.getIn(["images","original","url"])||(0,o.default)(n,["image"],""),title:e.get("title")||"",url:e.get("link")||"",uuid:e.get("id")||""}}function d(e,t){var n=e.get("subtype")||e.get("type"),a=t.ui?t.ui.show_type_icon:null;return["video","slideshow"].indexOf(n)>=0&&a?n:""}function c(e,t){var n;return e.get("off_network")&&(n=(0,o.default)(t,["offnet","share_buttons","buttons_to_show"])),n||(n=(0,o.default)(t,["ui","share_buttons","buttons_to_show"],[])),n}function f(e){var t=e.config.pageload_image_count;return t>=0&&e.index>=t}function p(e){return"roundup"===e.getIn(["clusterInfo","type"])}function m(e,t){var n=p(e),a=e.get("categoryLabel")||"",o=a.replace(s,""),i=e.get("property")||"",r=(t=t||{}).THE_ROUNDUP||"Need To Know";return n?r:t["STREAM_CATEGORY_"+o.toUpperCase()]||t["STREAM_CATEGORY_"+i.toUpperCase()]||a||i||""}function h(e){var t=e.relatedItems,n=(0,o.default)(e.config,["ui","related_min"])||3;return t&&t.size>=n?t:null}function g(e){var t=e.get("id"),n=e.get("storyline")||a.default.List(),o=[t];return n.forEach((function(e){o.push(e.get("id"))})),o}function b(e){if(e=e.split("?")[0]){if("/"===e.charAt(0))return{host:l?window.location.host:"",pathname:e,protocol:l?window.location.protocol:""};var t=e.split("/");return{host:t[2],pathname:"/"+t.slice(3).join("/"),protocol:t[0]}}return null}function v(e){var t=e.config,n=e.data;return _(n,t)||y(n,t)}function y(e,t){var n="false"!==e.get("comments_allowed"),a=e.get("off_network")||!1,i=a&&(0,o.default)(t,["ui","comments_offnet"])||!1;return!(!n||a&&!i||!(0,o.default)(t,["ui","comments"]))}function _(e,t){var n=(0,o.default)(t,["ui","share_buttons","enable"],!1),a=c(e,t);return n&&a.length>0}},1389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(n(1247)),o=d(n(6)),i=d(n(4)),r=n(1246),s=n(220),l=d(n(1558)),u=n(70);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n=e.promotions,o=e.link,d=e.isMobile,c=e.isDesktop,f=e.intl,p=e.isGridLayout,m=e.i13nModel;m&&(m.slk="promotions");var h,g=n[0].value;return g.CUSTOM?t=g.CUSTOM:g.STRIKE_PRICE?(t="$"+g.STRIKE_PRICE.split("|")[1],h="$"+g.STRIKE_PRICE.split("|")[0]):g.MONEY_OFF?t=f?f.formatMessage({id:"OFF"},{off:"$".concat(g.MONEY_OFF)}):i.default.createElement(s.FormattedMessage,{id:"OFF",values:{off:"$".concat(g.MONEY_OFF)}}):g.PERCENT_OFF&&(t=f?f.formatMessage({id:"OFF"},{off:"".concat(g.PERCENT_OFF)}):i.default.createElement(s.FormattedMessage,{id:"OFF",values:{off:"".concat(g.PERCENT_OFF)}})),t?d?function(e,t,n,o,s){var d=(0,a.default)("",{"Fz(16px) Va(t) Fw(600)":e.STRIKE_PRICE,"Fz(12px) Fw(600) Mend(2px) Va(m)":!e.STRIKE_PRICE});return i.default.createElement(u.I13nAnchor,{className:"Lh(2.5em) Fw(b) C($c-fuji-blue-1-a) Td(n) Pos(r) B(3px)",href:t,target:"_blank",rel:"noopener noreferrer",i13nModel:s},i.default.createElement(r.Icon,{className:"Mend(4px) Pos(r) B(7px) H(16px) W(16px)",color:"#188fff",asset:l.default}),i.default.createElement("span",{className:d}," ",n," "),o&&i.default.createElement("strike",{className:"C(#828c93) Fw(600) Fz(14px) Mx(2px) Op(0.8)"}," ",o," "))}(g,o,t,h,m):c?function(e,t,n,o,d,c,f){var p=(0,a.default)("Fw(b) C($c-fuji-blue-1-a) Td(n) D(ib)",{"Lh(1.35em)":!c}),m=(0,a.default)("C(#828c93) Fw(600) Mx(2px) Pos(r) T(2px) Op(0.8)",{"Fz(14px)":!c,"Fz(12px)":c}),h=(0,a.default)("Mend(4px)",{"H(13px) W(13px)":!c,"H(12px) W(12px)":c}),g=(0,a.default)("Fw(600) Pos(r) T(2px)",{"Mend(2px) Fz(13px)":!e.STRIKE_PRICE&&!c,"Mend(2px) Fz(12px)":!e.STRIKE_PRICE&&c,"Fz(16px)":e.STRIKE_PRICE&&!c,"Fz(14px)":e.STRIKE_PRICE&&c}),b=(0,a.default)("",{"My(4px)":!c,"Lh(1.1em)":c});return i.default.createElement("div",{className:b},i.default.createElement(u.I13nAnchor,{className:"Td(n) O(n)",href:t,target:"_blank",rel:"noopener noreferrer",i13nModel:f},i.default.createElement("div",{className:p},i.default.createElement(r.Icon,{className:h,color:"#188fff",asset:l.default}),i.default.createElement("span",{className:g}," ",n," "),o&&i.default.createElement("strike",{className:m}," ",o," ")),e.FREE_SHIPPING&&i.default.createElement("span",{className:"Fz(14px) Pos(r) T(2px) C(#959595) Mx(6px)"}," ",d?d.formatMessage({id:"FREE_SHIPPING"}):i.default.createElement(s.FormattedMessage,{id:"FREE_SHIPPING"})," ")))}(g,o,t,h,f,p,m):void 0:null};c.propTypes={promotions:o.default.array.isRequired,link:o.default.string.isRequired,isGridLayout:o.default.boolean,isMobile:o.default.boolean,isDesktop:o.default.boolean,intl:o.default.object};var f=c;t.default=f},1411:function(e,t,n){"use strict";var a=n(29),o=n(1472),i=a({storeName:"VideoCapabilitiesStore",statics:{handlers:{SET_USER_CONNECTION:"_setUserConnection"}},initialize:function(){this._data={connectionType:null},this._setMobileAutoplaySupport(),this._isUserConnectionChecksEnabled=!0},getConnectionType:function(){return this._data.connectionType},isAutoplayEnabledConnection:function(){var e=this.getConnectionType();return"unknown"===e||o.isAutoplayAllowed(e)},isMobileAutoplayDevice:function(){return this._data.isMobileAutoplaySupported},isUserConnectionChecksEnabled:function(){return this._isUserConnectionChecksEnabled},disableUserConnectionChecks:function(){return this._isUserConnectionChecksEnabled=!1},_setMobileAutoplaySupport:function(){"undefined"!=typeof window&&(this._data.isMobileAutoplaySupported=o.isAutoplaySupported())},_setUserConnection:function(e){e&&e.type&&(this._data.connectionType=e.type,this.emitChange())}});e.exports=i},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;c(n(6));var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(4)),o=n(1246),i=c(n(1337)),r=c(n(1445)),s=c(n(1248)),l=c(n(1247)),u=n(220);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=m(this,h(t).call(this,e));var a=e.count;return n.state={commentCount:a,commentString:n.getCommentString(a),hover:!1},n}var n,u,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(u=[{key:"getCommentString",value:function(e){var t,n=this.props,a=n.intl,o=n.showDescription;return e?(t=e>=1e6?parseFloat((e/1e6).toFixed(2))+"m":e>=1e5?parseFloat((e/1e3).toFixed(0))+"k":e>=1e4?parseFloat((e/1e3).toFixed(1))+"k":a.formatNumber(e),o&&(t+=" "+a.formatMessage({id:"APPLET_COMMENT_COUNT_DESCRIPTION"},{count:e})),t):o?a.formatMessage({id:"APPLET_COMMENT_START_CONVERSATION"}):""}},{key:"componentWillMount",value:function(){var e=this.constructor.prototype;(this.props.enableHoverColor||this.props.enableTooltip)&&(this.onMouseEnter=e.onMouseEnter.bind(this),this.onMouseLeave=e.onMouseLeave.bind(this))}},{key:"onMouseEnter",value:function(){this.setState({hover:!0})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1})}},{key:"renderTooltip",value:function(e){if(this.props.enableTooltip&&this.state.hover){var t=(0,l.default)("comment-btn-tooltip Bdc($c-fuji-grey-c) Bds(s) Bdw(1px)","Bdrs(3px) Bgc(#fff) Bxsh(commentTooltipBxsh) C($c-fuji-blue-1-a)","Fz(13px) Lh(14px) Pos(a) Px(14px) Py(8px) Whs(nw) Z(3)",{"Start(0) T(22px)":"down"===e,"B(-3px) End(36px)":"left"===e}),n=this.props.intl.formatMessage({id:"APPLET_COMMENT_COMMENTS"}),o=this.state.commentCount?"APPLET_COMMENT_COMMENTS":"APPLET_COMMENT_START_CONVERSATION";return a.default.createElement("b",{className:t},this.props.intl.formatMessage({id:o,defaultMessage:n}))}}},{key:"render",value:function(){var e=this.props,t=e.showDescription,n=e.deepLinkQueryParams,u=e.display,d=e.iconSize,c=e.iconClassName,f=e.textAlign,p=e.useFujiIcon,m=this.state,h=m.commentCount,g=m.commentString,b=e.openDirection||(["block","inline-block"].indexOf(u)>=0?"left":"down"),v=this.state.hover?e.hoverIconColor:e.iconColor,y=e.url;if(!y)return null;var _="/"!==y.charAt(0);_&&n&&(y+=(-1===y.indexOf("?")?"?":"&")+n);var x,M=(0,l.default)("comment-btn-count",e.stringClassName,"Pos(r)",{"D(b)":"block"===u||"inline-block"===u,"Fz(11px)":"block"===u||"inline-block"===u,"Mend(4px)":"inline"===u&&"left"===f,"Mstart(4px)":"inline"===u&&"right"===f,"Fz(13px)":"inline"===u&&!t,"Fw(b) Fz(11px)":t}),C={className:(0,l.default)("comment-btn-link Pos(r) Cur(p) Va(m) Td(n)",e.className,{"Pb(6px) D(b)":"block"===u,"D(ib)":"inline"===u,"D(ib) Pb(6px)":"inline-block"===u,"desktop_W(100%)":"left"===b}),followLink:_,href:y,i13nModel:Object.assign({},e.i13nModel||e.model,{elm:"cmmt_open",itc:0,pos:1,slk:"comments"}),navParams:Object.assign({},e.navParams,{collapseContent:!0,uuid:e.uuid||""}),target:e.target};return g?(x=a.default.createElement("span",{style:{color:v},className:M},g),C["aria-label"]=(h?g+" ":"")+e.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"})):C["aria-label"]=e.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"}),(e.enableHoverColor||e.enableTooltip)&&(C.onMouseEnter=this.onMouseEnter,C.onMouseLeave=this.onMouseLeave),a.default.createElement(s.default,C,"left"===f||"top"===f?x:null,a.default.createElement(o.Icon,{className:c,asset:p?r.default:i.default,height:d,color:v,style:{position:"relative",top:"1px",margin:"auto",verticalAlign:"middle"}}),"right"===f||"bottom"===f?x:null,this.renderTooltip(b))}}])&&p(n.prototype,u),d&&p(n,d),t}(a.PureComponent);b.defaultProps={className:"",deepLinkQueryParams:"bcmt=1",display:"inline",enableHoverColor:!1,enableTooltip:!1,hoverIconColor:"#188fff",iconClassName:"",iconColor:"#ccc",iconSize:20,showDescription:!1,textAlign:"left",stringClassName:"Fw(b)"};var v=(0,u.injectIntl)(b);t.default=v},1439:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(6),i=n(4),r=n(20),s=n(1438),l=n(1524),u=n(227),d=r({displayName:"VideoManagedPlayer",contextTypes:{executeAction:o.func.isRequired,getStore:o.func,renderTarget:o.object},propTypes:{className:o.string,context:o.object,enableLazy:o.bool,playerGroups:o.array,viewport:o.object,yvpConfig:o.object.isRequired},componentDidMount:function(){this.context.getStore(u).addChangeListener(this._videoStoreChangeHandler)},shouldComponentUpdate:function(e,t){return!this.state.resetLazy&&!!t.resetLazy},fireInitAction:function(e,t,n,a){if(t){var o=this.context,i=this.getGroups();o&&o.executeAction&&o.executeAction(l,{groups:i,id:this.getModuleId(),player:t,customConfig:a})}},getDefaultProps:function(){return{className:"H(100%)",enableLazy:!0,playerGroups:[],viewport:{allIn:!0,bottomBoundary:null,margins:{usePercent:!1,bottom:0,top:0}}}},getGroups:function(){var e=this.context,t=e.renderTarget&&"render-target-"+e.renderTarget.id,n=this.props.playerGroups||[];return t&&n.push(t),this.props.enableLazy&&n.push("lazy-support-enabled"),n},getInitialState:function(){return{resetLazy:!1}},getModuleId:function(e){var t=this.moduleId;return t||(t=e||"VideoManaged-"+Date.now(),this.moduleId=t),t},render:function(){var e=this.props,t=this.getModuleId(e.playerKey);return i.createElement(s,a({},e,{onPlayerReady:this.fireInitAction,playerKey:t,playlist:[],resetLazyState:e.enableLazy&&this.state.resetLazy,vpConfigOverrides:e.yvpConfig}))},_videoStoreChangeHandler:function(){if(this.props.enableLazy){var e=(this.props.context||this.context).getStore(u),t=e.getDestroyedVideoPlayers(),n=this.getModuleId();if(t&&t[n]&&!this.state.resetLazy)return void this.setState({resetLazy:!0});this.state.resetLazy&&e.getVideoPlayer(n)&&this.setState({resetLazy:!1})}}});e.exports=d},1448:function(e,t,n){"use strict";var a=n(104),o=n(1785),i=n(6),r=n(1411),s={contextTypes:{session:i.object.isRequired},componentDidMount:function(){var e=this.context,t=a(e,"session.dimensions.device","desktop"),n=e.getStore(r);if("undefined"!=typeof window&&"desktop"!==t&&n.isMobileAutoplayDevice()){var i=this._deviceSupportsVideoAutoplay();n.isUserConnectionChecksEnabled()?(n.addChangeListener(this.onVideoCapabilitiesChange),e.executeAction(o)):this.state.supportsVideoAutoplay!==i&&this.setState({supportsVideoAutoplay:i})}},getInitialState:function(){var e=this.context;return{supportsVideoAutoplay:"desktop"===a(e,"session.dimensions.device","desktop")}},_deviceSupportsVideoAutoplay:function(){var e=this.context;if("desktop"===a(e,"session.dimensions.device","desktop"))return!0;var t=e.getStore(r);return t&&t.isMobileAutoplayDevice()&&t.isAutoplayEnabledConnection()},onVideoCapabilitiesChange:function(){this.setState({supportsVideoAutoplay:this._deviceSupportsVideoAutoplay()})}};e.exports=s},1472:function(e,t,n){"use strict";var a=n(1786),o={wifi:!0,broadband:!0,dsl:!0,cable:!0};function i(){if("undefined"!=typeof navigator)return(navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)||{}).type}function r(){if(!a.mobile)return!0;var e=a.android&&a.chrome>=50,t=a.ios&&!a.iosWebView&&a.safari>=10;return e||t}e.exports={getConnectionType:i,isAutoplaySupported:r,isAutoplayAllowed:function(e){return!a.mobile||!(!(e=(i()||e||"").replace(/^cs_/i,"").toLowerCase())||!o[e])&&r()}}},1473:function(e,t,n){if(void 0===a)var a={};a["dislike-heart"]={name:"dislike-heart",height:14,width:16,path:"M1.253 3.196l9.054 9.053L8 14.666 1.774 8.142c-1.276-1.34-1.45-3.408-.52-4.946zm.874-1.01c.672-.553 1.494-.853 2.363-.853 2.125 0 3.117 1.694 3.51 2.016.406-.332 1.375-2.017 3.51-2.017 1.028 0 1.994.42 2.717 1.18 1.475 1.552 1.475 4.077 0 5.628l-3 3.144-9.1-9.1z"},e.exports&&(e.exports=a["dislike-heart"])},1558:function(e,t,n){if(void 0===a)var a={};a.GeminiLabel={name:"GeminiLabel",height:48,width:48,path:"M24.848 42.645L4.445 22.598V4.448H22.59l20.05 20.415-17.796 17.782zm22.51-19.325L25.11.664C24.692.238 24.12 0 23.52 0H2.22C.99.004 0 1 0 2.227v21.3c0 .602.238 1.172.664 1.59L23.3 47.36c.42.413.98.648 1.567.644.586-.004 1.15-.238 1.563-.656l20.918-20.895c.86-.863.867-2.258.01-3.133zM13.64 9.82c-1.392-.04-2.693.68-3.4 1.875-.707 1.2-.707 2.684 0 3.883.707 1.195 2.008 1.914 3.4 1.875 2.065-.058 3.71-1.75 3.71-3.816 0-2.067-1.645-3.762-3.71-3.817"},e.exports&&(e.exports=a.GeminiLabel)},1570:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(1247)),o=n(1255),i=c(n(0)),r=n(70),s=n(1246),l=c(n(6)),u=c(n(4)),d=c(n(1309));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t,n=e.config||{},l=n.ui||{},c=l.view,f=l.sponsoredLabelAd||!1,p="headlines"===c,m=n.ads||{},h=e.data.get("adChoicesUrl")||m.adchoices_url,g=p?"#959595":e.sponsoredColor.split(/\(([^)]+)\)/)[1],b=e.data.get("isPromoAd"),v=e.sponsorContainerClass,y={elm:"itm",outcm:"advertiser"};f?t=e.intl.formatMessage({id:"AD"}):m.sponsored_label_support&&(t=e.data.get("sponsoredByLabel")),t||(t=e.intl.formatMessage({id:"SPONSORED"}));var _,x=p?"C(#959595)":e.sponsoredColor,M="tiles"!==(0,i.default)(n,["ui","view"]),C=(0,a.default)("Mend(6px)",x,{"Td(n)":M,"Fz(11px) Pos(r) Td(n)":p}),S=(0,a.default)(e.publisherColor,{"Td(n)":M,"Whs(nw) Mend(6px) Lh(1.6)":!p,"Fz(12px) Ell D(b)":p,"Va(m) D(ib) Ell":e.showCTA});return!M&&!e.sponsored_only||e.publisher_only||b||(_=u.default.createElement("span",{className:v},u.default.createElement(r.I13nAnchor,{className:C,href:m.sponsored_url,i13nModel:{elm:"icon",outcm:"sponsor"},rel:"noopener noreferrer",target:"_blank"},t),u.default.createElement(r.I13nAnchor,{href:h,i13nModel:{elm:"icon",outcm:"info"},target:"_blank",rel:"noopener noreferrer"},u.default.createElement("i",{className:"Pos(r) T(3px)"},u.default.createElement(s.Icon,{asset:d.default,color:g,height:15,style:{verticalAlign:"baseline"}})))),!e.sponsored_only)?e.imageComponent?u.default.createElement("div",{className:e.className},e.imageComponent,u.default.createElement("div",{className:"Mstart(4px) D(ib)"},u.default.createElement(o.Controls.Publisher,{className:S,data:e.data,i13nModel:y,rel:"noopener noreferrer",target:"_blank"}),_),e.ctaComponent):e.showCTA?u.default.createElement("div",{className:e.className},u.default.createElement("div",{className:"D(ib)"},u.default.createElement(o.Controls.Publisher,{className:S,data:e.data,i13nModel:y,rel:"noopener noreferrer",target:"_blank"}),_),e.ctaComponent):u.default.createElement("div",{className:e.className},u.default.createElement(o.Controls.Publisher,{className:S,data:e.data,i13nModel:y,rel:"noopener noreferrer",target:"_blank"}),_,e.ctaComponent):_}f.displayName="AdAttribution",f.propTypes={className:l.default.string,config:l.default.object.isRequired,data:l.default.object.isRequired,intl:l.default.object.isRequired,publisherColor:l.default.string,publisher_only:l.default.bool,sponsorContainerClass:l.default.string,sponsoredColor:l.default.string,sponsored_only:l.default.bool},f.defaultProps={className:"Fz(13px) Pos(r) Z(2) Ell",publisherColor:"C(#959595)",sponsoredColor:"C(#b9bdc5)"};var p=f;t.default=p},1571:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1247)),o=r(n(6)),i=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,d(t).call(this))).renderTime=function(){var e=n.props,t=e.countDownTime,a=e.hideAd,o=(t-n.getCurrentTime())/1e3;o<=0?(clearInterval(n.countdown),a?a():n.setState({remainingTime:o})):n.setState({remainingTime:o})};var a=e.timeDifference;return n.state={remainingTime:a},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.countdown=setInterval(this.renderTime,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.countdown)}},{key:"getCurrentTime",value:function(){return Date.now&&Date.now()||(new Date).getTime()}},{key:"render",value:function(){var e=this.props,t=e.flashSalePrefixText,n=e.isFlashSaleEnding,o=e.intl,r=e.hideAd,s=e.promotions,l=this.state.remainingTime,u=l,d=Math.floor(u/86400);u-=86400*d;var c=Math.floor(u/3600);u-=3600*c;var f=Math.floor(u/60),p=Math.floor(u%60);if(s&&d>30)return null;s&&d<7&&(s=!1),d<1?d=null:d<10&&(d="0"+d.toString()),f=f<10?"0"+f.toString():f,c=c<10?"0"+c.toString():c,p=p<10?"0"+p.toString():p;var m=t||o.formatMessage({id:"SALE_ENDS_IN"}),h=(0,a.default)("",{"H(25px) Bgc(#828c93) Opacity(0.9) C(white) Ta(c)":!n&&r,"H(25px) Bgc(#ff333a) Opacity(0.9) C(white) Ta(c)":r&&(n||!d&&c<24&&r),"H(20px) C(#ff333a) Ta(s)":!r&&(n||!d&&c<24),"H(20px) C(#828c93) Ta(s)":!n&&!r});return i.default.createElement("div",{className:"W(100%) Lh(25px)"},l>0&&i.default.createElement("div",{className:h},i.default.createElement("div",{className:"Mend(4px) Fz(13px)"},m,s?i.default.createElement("span",{className:"Fz(12px)"},"  ".concat(d," ").concat(o.formatMessage({id:"DAYS"}))):i.default.createElement("span",{className:"Fz(12px)"},d?"  ".concat(d).concat(o.formatMessage({id:"FLASHSALE_DAYS"})):null," ",c,":",f,":",p))),l<0&&!r&&i.default.createElement("p",{className:"C(#828c93)"},o.formatMessage({id:"AD_EXPIRED"})))}}])&&l(n.prototype,o),r&&l(n,r),t}(i.default.Component);f.propTypes={countDownTime:o.default.number.isRequired,flashSalePrefixText:o.default.string,isFlashSaleEnding:o.default.bool,intl:o.default.object.isRequired,timeDifference:o.default.number.isRequired,promotions:o.default.array};var p=f;t.default=p},1625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getI13nModel=function(e,t){if(!o[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},o[e],t):o[e]},t.I13nButton=void 0;var a=n(70),o={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};var i=(0,a.createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1});t.I13nButton=i},1785:function(e,t,n){"use strict";var a=n(1472),o=n(1411);e.exports=function(e,t,n){var i=e.getStore(o),r=i.getConnectionType();return r?n(null,{type:r}):(r=a.getConnectionType())?(e.dispatch("SET_USER_CONNECTION",{type:r}),n(null,{type:r})):i.isUserConnectionChecksEnabled()?(i.disableUserConnectionChecks(),void e.service.read("UserConnectionService.read",{},{},(function(t,a){var o={type:t?"err":a&&a.speed||"unknown"};e.dispatch("SET_USER_CONNECTION",o),n(null,o)}))):n&&n()}},1786:function(e,t,n){"use strict";var a="undefined"!=typeof navigator?navigator.userAgent.toLowerCase().replace(/<[A-Za-z]+.*?(\/>|>.*?<\/[A-Za-z]+>)|javascript:/g,""):"",o="undefined"!=typeof window?window:{},i=function(e){if(null===e)return!1;var t=e[1];return parseFloat(t.replace("_",".").split(".",2).join("."))||1},r=function(e){for(var t=(o&&o.location&&o.location.search&&o.location.search.substring(1)||"").split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(decodeURIComponent(a[0])===e)return decodeURIComponent(a[1])}return null};if(t.ua=a,t.chromium=i(/chromium\/([^\s]*)/.exec(a)),t.edge=i(/edge\/([^\s]*)/.exec(a)),t.opera=/opr\/|opera\//.test(a),t.chrome=!t.chromium&&!t.edge&&!t.opera&&(i(/chrome\/([^\s]*)/.exec(a))||i(/crios\/([^\s]*)/.exec(a))),t.ie=i(/msie ([^;]*)/.exec(a))||i(/trident.*; rv:([0-9.]+)/.exec(a)),t.firefox=!t.ie&&i(/firefox\/([^\s]*)/.exec(a)),t.android=/android/.test(a),t.androidTablet=t.android&&!/mobile/.test(a),t.htc_one=/htc_one/.test(a),t.vizio=/Vizio/i.test(a)||"vizio"===r("man"),t.tivo=/TiVo/i.test(a),t.fios=/Verizon_STB|\(Verizon.*VMS1100|\(Verizon.*IPC1100|\(Verizon.*IPC3200/i.test(a),t.firetv=t.android&&/amazonwebappplatform/.test(a)&&/aft/.test(a),t.lg=/web0s/.test(a),t.tizen=/tizen/.test(a),t.orsay=/smarttv/.test(a)&&!t.tizen&&!t.lg,t.samsung=t.orsay||t.tizen,t.sony=/(sony)/.test(a),t.ps4=/(playstation 4)/.test(a),t.ios=/(ipad|iphone|ipod)/.test(a),t.iphone=/(iphone|ipod)/.test(a)&&!/ipad/.test(a),t.ipad=t.ios&&!t.iphone,t.androidBrowser=!t.chrome&&/android/.test(a),t.androidVersion=i(/android\s([0-9.]*)/.exec(a)),t.safari=!t.chrome&&!t.chromium&&!t.android&&/safari\/([^\s]*)/.test(a)&&i(/version\/([^\s]*)/.exec(a)),t.iosWebView=t.ios&&!navigator.standalone&&!t.safari,t.iosVersion=t.ios&&i(/\bos ((\d+_?){2,3})\s/.exec(a)),t.mobile=t.ios||t.android&&!t.firetv,t.safariDesktop=!t.mobile&&t.safari,t.tv=t.vizio||t.tivo||t.firetv||t.samsung||t.sony||t.ps4||t.lg||t.fios,t.desktop=!t.mobile&&!t.tv,t.phantomJS=o.window&&o.window._phantom,t.tv)if(t.vizio)t.os="vizio",t.model=r("class")||r("soc");else if(t.tivo)t.os="tivo",/tcd849/.test(a)?(t.model="series6",t.version="tcd849"):/tcd8d9/.test(a)?(t.model="series6",t.version="tcd8d9"):/tcd8f9/.test(a)?(t.model="series6",t.version="tcd8f9"):/tcd8/.test(a)?(t.model="series5",t.version="tcd8"):/tcdd/.test(a)?(t.model="series5",t.version="tcdd"):t.model="series4";else if(t.firetv)t.os="firetv",/aftb/.test(a)?t.model="aftb":/afts/.test(a)?t.model="afts":(/aftm/.test(a),t.model="aftm");else if(t.lg)t.os="lg",t.model="lg";else if(t.samsung){t.os="samsung";var s=void 0!==s?s:window.tizen;s&&s.systeminfo?(t.model="tizen",t.version=s.systeminfo.getCapability("http://tizen.org/feature/platform.version")):t.model="orsay"}else t.sony?(t.os="sony",/bdp/.test(a)?t.model="bdp":t.model="tv"):t.ps4?(t.os="ps4",t.model="4"):t.fios?t.os="fios":t.os=null;else t.ios?t.os="ios":t.android?t.os="android":/windows|win32/.test(a)?(t.os="windows",t.winXP=/(windows nt 5\.[1-3])/.test(a),t.winVista=/(windows nt 6\.0)/.test(a),t.win7=/(windows nt 6\.1)/.test(a),t.win8=/(windows nt 6\.2)/.test(a),t.win8_1=/(windows nt 6\.3)/.test(a),t.win10=/(windows nt 10\.0)/.test(a),t.win64=/(wow64|win64)/.test(a)):/macintosh|mac_powerpc/.test(a)?t.os="macintosh":/symbos/.test(a)?t.os="symbos":/linux/.test(a)?t.os="linux":t.os=null},1788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1246),o=l(n(6)),i=l(n(4)),r=l(n(1531)),s=l(n(1247));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t,n,o,l,u=e.config||{},d=e.data||{},c=e.userAgent,f=u.promoAds||{},p=u.ui&&"headlines"===u.ui.view,m=p?12:14,h=e.intl||{},g=d.get("ratingsNum")||5,b=d.get("appReviews"),v=d.get("cpi"),y=[],_=g%1;for(l=1;l<=g;l++)y.push(i.default.createElement(a.Icon,{key:l,className:"Pos(r) T(3px) Mend(1px) Fl(start)",asset:r.default,color:"#ffc208",height:m}));return _&&y.push(i.default.createElement("span",{className:(0,s.default)("Pos(r) Mend(1px) Fl(start) Ov(h)",{"T(-1px) W(6px)":p},{"T(1px) W(7px)":!p})},i.default.createElement(a.Icon,{key:l,asset:r.default,color:"#ffc208",height:m}))),t=i.default.createElement("div",{className:"C(#ffc208) Pos(r) Fl(start) Mt(5px) H(100%)","aria-label":h.formatMessage({id:"PROMO_ARIA_RATINGS"},{ratings:g})},y),b&&(n=i.default.createElement("div",{className:(0,s.default)("C(#959595) Pos(r) Mt(5px) Fl(start) D(n)--maw370",{"Fz(12px) Mstart(2px)":p},{"Fz(14px) Mstart(10px)":!p})},"(",h.formatNumber(b),")")),v&&(o=i.default.createElement("button",{className:(0,s.default)("D(b) Va(t) Bdrs(2px) Py(6px) Ta(c) Fz(14px) Mstart(5px) P(8px) Fl(end)",{"C(#298cda) Bdc(#298cda) Bdw(2px) Bds(s)":"ios"===c},{"C(#fff) Bgc(#689f38)":"android"===c},{"C(#fff) Bgc(#188fdc)":!c})},f.cta||h.formatMessage({id:"CALL_TO_ACTION"}))),i.default.createElement("div",{className:"H(30px)"},t,n,o)}u.propTypes={data:o.default.object.isRequired,config:o.default.object.isRequired,intl:o.default.object.isRequired,userAgent:o.default.string.isRequired};var d=u;t.default=d},1789:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=b(n(428)),i=b(n(0)),r=b(n(21)),s=b(n(1479)),l=b(n(2108)),u=b(n(6)),d=b(n(4)),c=b(n(49)),f=b(n(1439)),p=b(n(1321)),m=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(2109)),h=b(n(23));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e){return e&&e.__esModule?e:{default:e}}var v={contextTypes:{beacon:u.default.func,session:u.default.object},isVideoplayer:function(e){return(e=e||this.state).videoPlayer},componentDidMount:function(){var e=this.props.data,t=e.get("isVideo"),n=c.default.findDOMNode(this).getBoundingClientRect(),a=e.getIn(["video_ad_assets","mediaInfo","xml"]),o=this._isFlashInstalled((0,i.default)(this.context,["session","userAgent"],{})),r=n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth),s=this.state.supportsVideoAutoplay;!t||a&&!o||this.setState({autoplay:r&&s,videoPlayer:s})},componentWillReceiveProps:function(e){var t=!!(e.data||r.default.Map()).get("isVideo");t!==this.state.videoPlayer&&this.setState({videoPlayer:t})},handlePlaybackComplete:function(e){this.fireBeacon("VIDEO_QUARTILE_100"),this.props.config.ads.enableEndCard&&this.setState({endCard:!0})},handlePlaybackStart:function(e){this.fireBeacon("VIDEO_START")},handleAdPlaybackStart:function(e){this.props.config.ads.enableEndCard&&this.setState({endCard:!1})},handlePlaybackUpdate:function(e,t,n){t>((this.props.config.ads||{}).videoViewBeaconTime||3)&&this.fireBeacon("VIDEO_VIEW"),t>30&&this.fireBeacon("VIDEO_30_SEC"),t>.25*n&&this.fireBeacon("VIDEO_QUARTILE_25"),t>.5*n&&this.fireBeacon("VIDEO_QUARTILE_50"),t>.75*n&&this.fireBeacon("VIDEO_QUARTILE_75")},handlePlayerReady:function(e,t){this.refs.videoplayer.enableViewportDetection()},fireBeacon:function(e){if(!this.props.config.ads.videoBeaconDisabled&&!this.state.firedBeacons[e]){var t=this.state.firedBeacons,n=new o.default,a=this.props.data.getIn(["video_ad_beacons",e]);a&&(n.image(a),t[e]=!0,this.setState({firedBeacons:t}))}},_isFlashInstalled:function(e){var t="ie"===(0,i.default)(e,["browserName"],"");return(0,l.default)(t)},buildVideoPlayer:function(e){var t=this.props.config.ads||{},n=e.getIn(["video_ad_assets","mediaInfo","url"]),a=e.getIn(["video_ad_assets","mediaInfo","xml"]),o=e.getIn(["image","url"]),r=(0,i.default)(this.context,["session","dimensions"],{}),l=t.videoExpName||"y20stream",u=t.videoExpType||"strm-inline",c=t.videoSec||"strm",g=this.getStore("PageStore").getSpaceid(),b=m.formatVideoBeacons(this.props.data.get("video_ad_beacons")),v=m.convertImmutableToJSRecur(this.props.data.get("video_ad_assets")),y=m.convertImmutableToJSRecur(this.props.data.get("video_ad_rules")),_=(0,s.default)((0,i.default)(this.context,["session"])),x=(0,i.default)(this.props,["config","content_site"],r.site),M={},C=null,S=t.vpaidTimeout||5,P={conviva:!1,disableCasting:!0,fullscreenBtn:!0,pausescreen:!1,sec:c,settingscreen:!1,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1},unMuteOnClick:!0};if(v&&Array.isArray(v.mediaInfo))for(var E=0;E<v.mediaInfo.length;E++){var w=v.mediaInfo[E];"video/mp4"===w.contentType&&w.url&&(n=w.url),w.xml&&(a=w.xml)}n?t.videoBeaconDisabled?(v.mediaInfo=[].concat(v.mediaInfo),M={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:o}}]},v.clickUrl=e.get("link"),C={standaloneAd:{gemini:v,rules:y,beacons:b}}):M={mediaItems:[{streams:[{url:n}],images:{thumbnail:o}}]}:a&&(l="GeminiBRX",C={standaloneAd:{beacons:b,xml:a},vpaidTimeout:S},M={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:o}}]});var I={autoplay:this.state.autoplay,CMS:{env:"prod",suppressAdContext:!0},comscoreC4:r.region+" "+r.site,continuousPlay:!1,conviva:!1,disableCasting:!0,docking:{},expBucket:r.bucket,expName:l,expType:u,fullscreenBtn:!0,lang:r.lang,loop:!1,mute:!0,pageSpaceId:g,pausescreen:0,playlist:M,preload:!0,region:r.region,replayonlyendscreen:!1,stopBufferingOnPause:!0,sec:c,settingscreen:!1,site:"fp"===x?"frontpage":x,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1}};return C&&(I.YVAP=C,P.YVAP=C),t.videoAdCCOnMute&&n&&(I.ccOnMute=!0,I.html5=!0),t.enableVideoManagerGemini?(P.playlist=M,I=(0,h.default)({},I,P),d.default.createElement(f.default,{enableSharedMediaStore:!1,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,vpClassName:"H(0) Pb(56.25%)",yvpConfig:I})):d.default.createElement(p.default,{addViewportHandler:!0,height:null,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,onPlayerReady:this.handlePlayerReady,playerJs:_,ref:"videoplayer",width:null,className:"Pb(56.25%)",yvpConfig:I})}};t.default=v},1867:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1260),i=f(n(21)),r=f(n(1248)),s=f(n(6)),l=f(n(4)),u=f(n(1247)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1342));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t,n,a,s,c=e.includeBreakPoints,f=e.storyline||i.default.List(),p=f.count(),m=e.storylineIds||i.default.List(),h=!d.isLazyLoad(e),g=e.config.ui||{},b=g.show_read,v=e.isAd||!1;if((g.storyline_min||1)>p)return null;var y=(0,u.default)("Td(n) D(ib) Va(t) W(90%) Mend(10%) C(#0078ff)!:h",e.titleClassName,{"C(#959595):vi":b}),_=f.map((function(f,b){var _,x=f.get("id"),M=f.get("link")||"";if(v)n=f.get("image"),a=e.i13nModel;else{var C=f.get("images")||i.default.Map();n=C.get("img:72x72")||C.get("img:178x100")||C.get("img:100x100"),a=d.getBaseI13n(f,n,b,!0),s={relatedUuids:d.filterStoryId(m,x),url:f.get("url")}}t=Object.assign({},a,{elm:"rhdln",pos:b+2,cposy:f.get("cposy")});var S={className:y,followLink:d.shouldFollowLink(f,e.config),href:M,i13nModel:t,navParams:s};if(v&&(S.target="_blank",S.rel="noopener noreferrer"),n){var P=(0,u.default)("Fl(start) W(29%) Miw(65px) Maw(72px) Mend(10px) Trsdu(0s)!",{"D(n)--sm1024":c},e.imageClassName);_=l.default.createElement(o.Img,{url:n.get("url"),checkPosition:!1,className:P,forceLoad:h,alt:f.get("title")})}return l.default.createElement("li",{className:(0,u.default)("Fl(start) W(50%)",{"W(100%)--sm1024":c,"Mb(8px)--sm1024":c&&b<p-1}),key:b},l.default.createElement(r.default,S,_,l.default.createElement("div",{className:"Ov(h)"},l.default.createElement("div",{className:(0,u.default)(g.titleInnerClassName,{"D(i)--sm1024 Pend(10px)--sm1024":c})},f.get("title")),l.default.createElement("div",{className:(0,u.default)("C(#959595) Fz(11px) Mt(2px) Va(b)",{"D(ib)--sm1024":c})},f.get("publisher")))))}));return l.default.createElement("ul",{className:(0,u.default)(e.className,{"Mt(8px)--sm1024":c})},_)}p.displayName="StorylineList",p.propTypes={className:s.default.string,config:s.default.object.isRequired,imageClassName:s.default.string,includeBreakPoints:s.default.bool,storyline:s.default.object.isRequired,storylineIds:s.default.array,i13nModel:s.default.object,titleClassName:s.default.string,isAd:s.default.bool},p.defaultProps={className:"Cf Mt(12px) Fz(12px) Pos(r)",includeBreakPoints:!1,titleClassName:"C(#000)"};var m=p;t.default=m},2097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n(6)),o=g(n(4)),i=g(n(20)),r=n(70),s=n(1625),l=n(220),u=g(n(1258)),d=n(1246),c=g(n(2098)),f=g(n(71)),p=g(n(425)),m=n(1733),h=g(n(1734));function g(e){return e&&e.__esModule?e:{default:e}}var b=(0,i.default)({mixins:[f.default,p.default],displayName:"Userintent",statics:{storeListeners:[h.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:a.default.string,index:a.default.number,intl:l.intlShape,config:a.default.object,uuid:a.default.string,publisher:a.default.string,publisherId:a.default.string,componentConfig:a.default.object},getDefaultProps:function(){return{className:"",index:1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){var e=this.props.config,t=(e=void 0===e?{}:e).discoverIndex,n=void 0===t?1:t;this.state.inViewport||this.props.index!==n||this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillUnmount:function(){this.stopListeningToViewport()},stopListeningToViewport:function(){this.onEnterViewport(null)},handleEnterViewport:function(){var e=this.props.config;this.executeAction(m.setTooltipViews,{componentConfig:e}),this.setState({inViewport:!0}),this.stopListeningToViewport()},getData:function(){var e=this.props.publisher,t=this.stores.userintent,n=t&&t.getStateJson()||{},a=n.mutedPublishers,o=(void 0===a?{}:a)[e]||{};return n.isMuted=o.muted||!1,n},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(h.default),this.executeAction(m.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},shouldRenderDiscover:function(){var e=this.props.config,t=(e=void 0===e?{}:e).discoverIndex,n=void 0===t?1:t;return this.props.index===n&&this.state&&this.state.showTooltip},shouldRenderPanel:function(){var e=this.props.uuid,t=this.state,n=t.target,a=t.showPanel;return this.state&&a&&n===e},handleDimissTooltip:function(e){var t=this.props.config;this.executeAction(m.setTooltipSeen,{componentConfig:t}),e.preventDefault()},handleShowPanel:function(e){var t=this.props,n=t.uuid,a=t.publisherId;this.executeAction(m.getMutedPublishers,{target:n,showPanel:!0,publisher:a}),e.preventDefault()},handleHidePanel:function(){this.executeAction(m.getMutedPublishers)},handleUserPreference:function(){var e=this.props,t=e.uuid,n=e.publisher,a=e.publisherId,o=this.state.isMuted;this.executeAction(m.managePreference,{target:t,isMuted:o,publisher:n,publisherId:a})},renderDiscover:function(){var e=this.props,t=e.uuid,n=e.intl;return this.shouldRenderDiscover()?o.default.createElement("div",{className:"userintent-tooltip ".concat("Pos(a) P(12px) W(183px) End(0) Fw(200) Ta(start) H(a) Fz(12px) T(30px) Lh(1.5) Z(1) C(#fff) Bgc(#188fff) Bdrs(2px) Bxsh(userintentBoxshadow)"," ").concat("Pos(a)::b End(6%)::b B(100%)::b W(0)::b H(0)::b Bd(userintentBorderTransparent)::b Bdbc(#188fff)::b Cnt(userintentEmpty)::b")},o.default.createElement("div",{className:"Fw(500)"},n.formatMessage({id:"DONT_LIKE_THIS_SOURCE"})),o.default.createElement("div",null,n.formatMessage({id:"CUSTOMIZE_HERE"})),o.default.createElement(r.I13nAnchor,{key:"userintent-close-"+t,className:"userintent-dimiss-tooltip D(b) O(n) Pos(a) T(30%) End(5%) Bdrs(10px) Mt(-10px)",style:{background:"rgba(0,0,0,.3)"},href:"#",onTouchStart:this.handleDimissTooltip,onClick:this.handleDimissTooltip,i13nModel:(0,s.getI13nModel)("discoverClose")},o.default.createElement(d.Icon,{className:"",asset:u.default,color:"#188fff",height:20,width:20}))):void 0},renderPanel:function(){var e=this.props,t=e.index,n=e.intl,a=e.uuid,i=e.publisher,r=e.publisherId,s=this.state,l={index:t,intl:n,showPanel:s.showPanel,isMuted:s.isMuted,uuid:a,publisher:i,publisherId:r,hidePanelAction:this.handleHidePanel,userPreferenceAction:this.handleUserPreference};return this.shouldRenderPanel()?o.default.createElement(c.default,l):void 0},render:function(){var e=this.props,t=e.uuid,n=e.publisher,a=e.className,i=void 0===a?"":a,l=this.handleShowPanel,u="userintent-btn-link Va(m) Td(n) Fz(21px) Lh(17px) C(#959595) C(#188fff):h D(ib) desktop_W(100%) Cnt(userintentEllipsis)::b ".concat(i),d={key:"userintent-".concat(t),className:u,href:"#",onTouchStart:l,onClick:l,i13nModel:(0,s.getI13nModel)("userintentBtn",{slk:n})};return o.default.createElement("div",{className:"userintent-wrapper Mt(6px) Pos(r)"},o.default.createElement(r.I13nAnchor,d),this.renderDiscover(),this.renderPanel())}}),v=(0,l.injectIntl)(b);t.default=v},2098:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(4)),o=d(n(6)),i=n(1625),r=d(n(1399)),s=n(220),l=d(n(1473)),u=n(1246);function d(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).call(this,e))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(o=[{key:"handleClickOutside",value:function(e){var t=this.props,n=t.showPanel,a=t.hidePanelAction;n&&a()}},{key:"render",value:function(){var e=this.props,t=e.uuid,n=e.intl,o=e.isMuted,r=e.publisher,s=e.userPreferenceAction,d=o?"#ff6368":"#ccc",c="".concat(o?n.formatMessage({id:"UNDO"}):""," ").concat(n.formatMessage({id:"SHOW_LESS_OF"},{publisher:r}));return a.default.createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+t},a.default.createElement(i.I13nButton,{onClick:s,i13nModel:(0,i.getI13nModel)("panelClick",{slk:r,elm:o?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},a.default.createElement(u.Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:l.default,color:d,height:22,width:22}),c,a.default.createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},n.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}])&&p(n.prototype,o),r&&p(n,r),t}(a.PureComponent);b.propTypes={className:o.default.string,index:o.default.number,intl:s.intlShape,showPanel:o.default.bool,isMuted:o.default.bool,uuid:o.default.string,publisher:o.default.string,publisherId:o.default.string,hidePanelAction:o.default.func,userPreferenceAction:o.default.func};var v=(0,r.default)(b);t.default=v},2099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(20)),o=n(220),i=l(n(0)),r=(l(n(6)),l(n(4))),s=n(1246);function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.default)({displayName:"ErrorItem",autobind:!1,propTypes:{},getDefaultProps:function(){return{itemCount:0}},render:function(){var e=this.props.config,t=(0,i.default)(e,["ui","view"]),n=(0,i.default)(e,["ui","error_id"])||"CONTENT_ERROR",a="tiles"===t?"div":"li";return r.default.createElement(a,{className:"Pos(r) P(20px) Ta(c) C(#9ea2af)"},r.default.createElement(s.Icon,{color:"#b9bdc5",cursorClass:"Cur(d)",height:40,name:"nav-news"}),r.default.createElement("h3",{className:"Mt(4px) Fw(500) Fz(16px) Lh(23px)"},r.default.createElement(o.FormattedMessage,{id:n,values:{hasItems:this.props.itemCount>0}})))}});t.default=u},2100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6)),o=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=e.titleKey,a=e.titleValues,i=e.className,r=e.intl;return(!t||t.length<=0)&&(t=r.formatMessage({id:n},a)),o.default.createElement("h2",{className:i},t)};r.displayName="Title",r.defaultProps={className:"C($c-fuji-grey-l) Fw(500) Fz(16px) Lh(23px)"},r.propTypes={className:a.default.string,intl:a.default.object,title:a.default.string,titleKey:a.default.string,titleValues:a.default.object};var s=r;t.default=s},2101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var a=l(n(1315)),o=l(n(0)),i=l(n(1296)),r=l(n(12)),s=n(1291);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){var l=t.config,u=l.ads||{},d=l.ui||{},c=l.max_dedupe_UUID_size||250,f=e.getStore(r.default),p=u.related_start_index,m={ads:{ad_polices:u.ad_polices,adchoices_url:u.adchoices_url,spaceid:f.getSpaceid(),pu:u.pu,related_ct_ads_count:u.related_ct_ads_count,related_ct_se:u.related_ct_se,related_start_index:p,useResizedImages:u.useResizedImages},content_site:l.content_site,ncpRequests:l.ncpRequests,offnet:{use_preview:(0,o.default)(l,["offnet","use_preview"]),url_scheme:(0,o.default)(l,["offnet","url_scheme"])},ui:{image_quality_override:d.image_quality_override,related_count:d.related_count,related_endpoint:d.related_endpoint,relative_links:d.relative_links,smart_crop:d.smart_crop},useNCP:l.useNCP,uuids:[]},h=e.getStore("StreamStore"),g=null,b=[],v=function(){if(g&&g.length){var n=[],a=0;b.forEach((function(e){var t=h.getRelatedItemsByUuid(e);t&&((t=t.toJS()).splice(p,1,g[a]),a++,n.push({relatedItems:t,uuid:e}))})),n.length&&(e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:g.slice(a),id:t.instanceId}),e.dispatch("STREAM_UPDATE_RELATED",{items:n,id:t.instanceId}))}};if(t&&t.uuids)if(t.uuids.forEach((function(e){h.getRelatedItemsByUuid(e)?b.push(e):m.uuids.push(e)})),p&&(g=h.getRelatedItemsAd(),m.ads.dedup_token=h.getRelatedItemsAdToken(),g&&g.length>b.length?delete m.ads:g=null),m.uuids.length>0||m.ads){var y=h.getSnippetIds(t.instanceId,l.category);m.dedupeUUIDs=y.uuids,m.dedupeUUIDs&&m.dedupeUUIDs.length>c&&(m.dedupeUUIDs=m.dedupeUUIDs.slice(m.dedupeUUIDs.length-c)),e.service.read("StreamRelatedService",m,{},(function(o,r){if(!o&&r){var u=r.related||r,c=0;if(!g&&r.ads&&r.ads.stream_ads&&r.ads.stream_ads.length&&(g=r.ads.stream_ads),p&&g&&u?(u.forEach((function(e){g[c]&&e.relatedItems.splice(p,0,g[c]),e.relatedItems=e.relatedItems.slice(0,d.related_count),c++})),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:g.slice(c),adsToken:r.ads&&r.ads.ads_dedup_token,id:t.instanceId})):p&&r.ads&&r.ads.stream_ads&&(b.length>0&&v(),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:r.ads.stream_ads,adsToken:r.ads.ads_dedup_token,id:t.instanceId})),e.dispatch("STREAM_UPDATE_RELATED",{items:u,id:t.instanceId}),d.dispatch_content_store){var f=[];if(u.forEach((function(e){e&&e.relatedItems&&(f=f.concat(e.relatedItems))})),f.length){var m=!!(0,s.getAppIdFromPageConfig)(e);e.executeAction(a.default,{loadContentAction:m?i.default:void 0,items:f,prefetch:l.use_prefetch,snippets:!0,sourceId:t.instanceId})}}n&&n()}else n&&n(o)}))}else b.length>0?(v(),n&&n()):n&&n()}u.displayName="fetchRelated"},2102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=Object.assign({},t,{use_content_id:!1}),i=(0,o.default)(e,a,n);i.ads&&(i.ads.frequency=0);if(t.use_page_category){var r=t.fallbackCategory||e.getStore("StreamStore").getFallbackCategory();r&&(i.category=r)}return i};var a,o=(a=n(1490))&&a.__esModule?a:{default:a}},2103:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var o=m(n(1315)),i=m(n(440)),r=m(n(21)),s=m(n(1296)),l=m(n(1661)),u=m(n(1490)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1662)),c=m(n(0)),f=n(1291);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}var h="undefined"!=typeof document?document:null;function g(e,t,n){var a=[],p=(t.componentProps||{}).id,m=e.getStore("StreamStore"),g=t.config||{},b=t.resource||"StreamService.items",v=(0,u.default)(e,g,b),y=g.batches.size;if(!p)return n(new Error("Instance id not set for fetchMore"));var _=m.getInstance(p,v.category).get("data"),x=(_.get("more_items")||r.default.List()).slice(0,y),M=_.get("stream_pagination");if(x.forEach((function(e,t){var n=e.get("type");void 0!==n&&"unknown"!==n||a.push((e.get("idPrefix")||"")+e.get("id"))})),0===a.length&&!M)return n();M?(v.ncpParams=v.ncpParams||{},v.ncpParams.body=M.toJS()):v.uuids=a;var C={};g.post_for_more&&(C.post_for_read=!0),e.service.read(b,v,C,(function(t,a){if(!t&&a){var r=0,u=[];x.forEach((function(e){var t=e.get("type");if(void 0===t||"unknown"===t){var n=a.stream_items[r],o=e.get("id"),i=n&&n.clusterInfo&&n.clusterInfo.id;!n||n.id!==o&&i!==o||(Object.assign(n,e.toJS(),{type:n.type,id:n.id}),u.push(n.id),r++)}else a.stream_items.splice(r,0,e.toJS()),a.components.splice(r,0,a.stream_items[r]._component),r++}));var m={componentConfig:g,components:a.components};(0,l.default)(e,m,(function(t){if(t)return n(t);if(e.dispatch("STREAM_FETCH",{data:a,id:p,batchSize:y}),function(e){var t=e.i13n&&e.i13n.executeEvent;if(t){var n=e.getStore("I13nStore"),a=e.getStore("PageStore"),o=e.getStore("UserStore"),r=n&&n.getI13nConfig();h&&o&&a&&r&&r.initComscore&&t("comscore_beacons",{c14:o.getComscoreC14(),currentUrl:h.location.href,getConsentData:r.enableConsentData?i.default:null,keyword:n.getComscoreC7Keyword(),spaceid:a.getSpaceid()})}}(e),v.ui&&v.ui.dispatch_content_store){var r=!!(0,f.getAppIdFromPageConfig)(e);e.executeAction(o.default,{items:a.stream_items,loadContentAction:r?s.default:void 0,prefetch:v.use_prefetch,snippets:!0,sourceId:p,ssEP:(0,c.default)(g,["batches","ss_endpoint"],""),useSlingstoneLcp:d.shouldUseSlingstoneLcp(g)})}n()}))}else{if(e.dispatch("STREAM_FETCH_ERROR",{data:{category:v.category},id:p,batchSize:y}),e.beacon){var b={code:"strbatch",remainingItems:_.get("more_items").length-y};e.beacon("error","tdv2-applet-stream",b)}n(t)}}))}g.displayName="fetchMore"},2104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(1247)),o=s(n(1488)),i=s(n(6)),r=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)("StreamContainer"),u=function(e){l("render");var t,n=e.config,o=void 0===n?{}:n,i=e.className,s=e.appletTitle,u=e.children,d=e.id,c=o.ui||{},f={maxWidth:c.max_width||"none"},p=(0,a.default)(i,c.container_classnames);return"tiles"===c.view&&e.errorItem&&(t=e.errorItem),r.default.createElement("div",{id:d,className:p,style:f},s,u,t)};u.displayName="StreamContainer",u.defaultProps={className:"tdv2-applet-stream Bdc(#e2e2e6)"},u.propTypes={appletTitle:i.default.element,children:i.default.element,className:i.default.string,config:i.default.object,errorItem:i.default.element,id:i.default.string};var d=u;t.default=d},2105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(2106)),o=h(n(2107)),i=h(n(2110)),r=h(n(2111)),s=h(n(71)),l=n(1255),u=h(n(20)),d=h(n(0)),c=h(n(105)),f=h(n(12)),p=(h(n(6)),h(n(4))),m=h(n(1367));function h(e){return e&&e.__esModule?e:{default:e}}var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b=(0,u.default)({displayName:"Ad",autobind:!1,mixins:[s.default,m.default],propTypes:{},getInitialState:function(){var e=this.getStore(f.default).getPageConfig();return{adsMessages:this.getStore(c.default).getStrings("tdv2-applet-stream"),enableFeedback:e&&e.enableGeminiFeedback||!1}},render:function(){var e=this.props.data,t=(0,d.default)(this.props.config,["ui","view"])||"",n=(0,d.default)(this.props.config,["ads","partial_viewability"])||!1,s={enableFeedback:this.state.enableFeedback,adsMessages:this.state.adsMessages,scrollHandler:n};return this.props.tile?p.default.createElement(l.Controller,g({},this.props,s,{type:"tile",component:a.default})):"featured"===e.get("format")||"featured"===t||"discussion"===t?p.default.createElement(l.Controller,g({},this.props,s,{type:"featured",component:o.default})):"row"===t||"headlines"===t?p.default.createElement(l.Controller,g({},this.props,s,{type:"megastream",component:r.default})):p.default.createElement(l.Controller,g({},this.props,s,{type:"megastream",component:i.default}))}});t.default=b},2106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(1570)),o=h(n(1247)),i=n(1255),r=h(n(20)),s=h(n(0)),l=n(70),u=n(1246),d=n(1260),c=h(n(21)),f=h(n(6)),p=h(n(4)),m=h(n(1309));function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,r.default)({displayName:"AdTile",autobind:!1,mixins:[i.DataMixin],contextTypes:{intl:f.default.object},propTypes:{},render:function(){var e,t=this.props,n=t.data,r=n.get("i13n")||c.default.Map(),f=this.context.intl,h=t.tile,g=t.config,b=g.ads,v=this.getHQImage(),y={},_=((0,s.default)(g,["ui","tiles"])||{}).gradient;v&&v.height>=.7*h.height&&v.width>=.7*h.width?(e=d.Img,y.nodeName="div",y.checkPosition=!1,y.className="Bgr(nr) Bgz(cv) Bgp(c) Trsdu(0s)!",y.url=v.url):(e="div",y.className="Bgc($general)"),y.className=(0,o.default)("StretchedBox","js-stream-ad",y.className);var x,M={bpos:r.get("bpos"),cpos:r.get("cpos"),cposy:r.get("cposy"),ad:1,aid:n.get("id"),pkgt:v?"sponsored_img":"sponsored_noimg",slk:n.get("title"),ct:"ad"},C=n.get("adChoicesUrl")||b.adchoices_url;return b.sponsored_label_support&&(x=n.get("sponsoredByLabel")),x||(x=f.formatMessage({id:"SPONSORED"})),p.default.createElement(e,y,p.default.createElement("div",{className:(0,o.default)("Pos(a) B(0) Start(0) End(0) P(10px) C(#fff)",{"Bgi($linear-grad-dark) Fil($linear-grad-dark-fallback)":_,"Bgc($bg-dark)":!_})},p.default.createElement(l.I13nAnchor,{className:"Mend(6px) C(#fff) Tt(u) Fw(b) Fz(11px) Pos(r) Z(2)",href:b.sponsored_url,i13nModel:Object.assign({},M,{elm:"icon",outcm:"sponsor"}),rel:"noopener noreferrer",target:"_blank"},x),p.default.createElement(l.I13nAnchor,{className:"C(#fff) Pos(r) Z(2) ie-7_Pos(a) ie-7_Mt(-5px)",href:C,i13nModel:{elm:"icon",outcm:"info"},rel:"noopener noreferrer",target:"_blank"},p.default.createElement("i",{className:"Pos(r) T(3px)"},p.default.createElement(u.Icon,{asset:m.default,color:"#fff",height:15,style:{verticalAlign:"baseline"}}))),p.default.createElement("h3",{className:"M(0) Pt(2px) Pb(4px) C(#fff) LineClamp(2,47px)"},p.default.createElement(i.Controls.Headline,{data:this.props.data,className:"Ff($ff-primary) Fw($fweight) Lh($lheight) Lts($lspacing-sm) Fsm($fsmoothing) Fsmw($fsmoothing) Fsmm($fsmoothing) Fz($fz-m)"})),p.default.createElement(a.default,{config:g,data:n,intl:f,publisherColor:"C(#fff)",sponsoredColor:"C(#fff)"})),p.default.createElement(i.Controls.PrimaryLink,{data:n,i13nModel:Object.assign({},M,{elm:"hdln",outcm:"ad"})},p.default.createElement("u",{className:"StretchedBox Z(1)"})))}});t.default=g},2107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=_(n(1570)),o=_(n(1788)),i=_(n(0)),r=_(n(1247)),s=_(n(20)),l=_(n(1571)),u=_(n(71)),d=_(n(1389)),c=n(1255),f=n(70),p=n(1260),m=_(n(21)),h=_(n(1248)),g=_(n(6)),b=_(n(4)),v=_(n(1789)),y=_(n(1448));function _(e){return e&&e.__esModule?e:{default:e}}var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M=(0,s.default)({displayName:"FeaturedAd",autobind:!1,mixins:[u.default,y.default,v.default],contextTypes:{beacon:g.default.func,intl:g.default.object,session:g.default.object},propTypes:{},getInitialState:function(){return{adExpired:!1,autoplay:!1,firedBeacons:{},videoPlayer:!1}},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)||this.state.adExpired!==t.adExpired},render:function(){var e,t,n,s,u,g=this,v=this.props,y=v.config,_=y.ui||{},M=_.use_img,C=v.data,S=C.get("isPromoAd"),P=y.promoAds||{},E=C.get("i13n")||m.default.Map(),w=this.context.intl,I=this.isVideoplayer(),N=_.adlink_classnames,T=_.adprovider_classnames,k=(0,r.default)(N||"C(#0078ff):h Td(n) smartphone_C(#000)",{"Fz(13px) LineClamp(4,96px) C($c-fuji-blue-4-b)":"discussion"!==_.view,"Fw(600) Fz(14px) Lh(16px) LineClamp(4,64px) C(#000)":"discussion"===_.view,"smartphone_Fz(19px)":"thingrid"!==_.layout}),O=C.get("image")||m.default.Map(),D=O.get("width")||0,A=O.get("height")||0,j=y.pageload_image_count||3,L=C.get("smadFlashSaleCountDown"),B=C.get("countDownPrefixText"),F=C.get("timeDifference"),R=y.ads.enableGeminiDealsWithoutBackground,z=null,V={bpos:E.get("bpos"),cpos:v.index+1,ad:1,aid:C.get("id"),pkgt:e?"sponsored_img":"sponsored_noimg",slk:C.get("title"),ct:"ad"},U=function(){g.setState({adExpired:!0})};if(this.state.adExpired)return null;if(y.ads&&y.ads.enableFlashSale&&L&&(z=b.default.createElement(l.default,{countDownTime:L,isFlashSaleEnding:C.get("smadFlashSaleEnding"),flashSalePrefixText:B,timeDifference:F,intl:w,hideAd:U})),R&&C.get("promotions")){var W=C.get("promotions").toJS();if(W&&W[0]&&W[0].value){var H=Date.now(),$=L?Math.floor((Number(L)-Number(H))/864e5):void 0;z&&$>7&&$<30?z=b.default.createElement(l.default,{countDownTime:L,isFlashSaleEnding:C.get("smadFlashSaleEnding"),flashSalePrefixText:B,timeDifference:F,intl:this.context.intl,hideAd:U,promotions:W}):z&&$>30&&(z=null),t=b.default.createElement(d.default,{promotions:W,link:C.get("link"),isMobile:!0,intl:w,i13nModel:V})}}if(D&&A&&C.get("hasHqImg")){var G=Math.round(A/D*100),q=M?"img":"div",Y={checkPosition:!1,className:(0,r.default)({"Bdrs(2px)":"sidekick"===_.view||"discussion"===_.view,"W(100%) H(100%) Pos(a)":M},"Bgz(cv) smartphone_Mx(0) Mb(6px) smartphone_Mb(12px) Trsdu(0s)!"),url:O.get("url"),nodeName:q,forceLoad:v.index<j},K={};M?K.paddingBottom=G+"%":Y.style={paddingBottom:G+"%"};var Z=b.default.createElement(p.Img,Y);if(M&&(Z=b.default.createElement("div",{style:K},b.default.createElement(p.Img,Y))),I){var J={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:C.get("link")},X=this.state.endCard?b.default.createElement("div",{className:"Pos(a) T(45%) V(h) H(100%) W(100%) Ta(c)"},b.default.createElement(h.default,x({},J,{target:"_blank",rel:"noopener noreferrer"}),w.formatMessage({id:"LEARN_MORE"}))):void 0;e=b.default.createElement("div",{className:(0,r.default)("Mx(a) Pb(6px)",{"Pos(r)":M})},b.default.createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(C),X))}else e=b.default.createElement("div",{className:(0,r.default)("Mx(a) Maw(500px)",{"Pos(r)":M})},Z)}var Q={config:y,data:C,intl:w},ee=null;if("thingrid"===_.layout&&(ee="D(b)"),y.ads&&(y.ads.showCTA||y.ads.showCTAThumbnail)){var te=C.get("callToAction");if(te){var ne="D(ib) Va(t) Bdrs(2px) Px(8px) Py(4px) Fz(12px) Bdc($c-fuji-blue-1-a) C($c-fuji-blue-1-a) Bds(s) Bdw(2px) Fl(end) Td(n)",ae={ad:1,aid:C.get("id"),bpos:E.get("bpos"),cpos:v.index+1,ct:"ad",elm:"hdln",outcm:"ad",pkgt:"sponsored_img",slk:te};if(y.ads.showCTA)ee="D(b)",Q.ctaComponent=b.default.createElement(f.I13nAnchor,{href:C.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:ne},te),Q.showCTA=!0;else{var oe=C.get("thumbnailImage");ee="",oe?(ee="D(b)",Q.imageComponent=b.default.createElement(f.I13nAnchor,{href:C.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:"Fl(start) D(ib)"},b.default.createElement(p.Img,{url:oe.get("url"),className:"D(ib) Bdrs(50%)",width:"35",height:"35",forceLoad:v.index<j})),Q.ctaComponent=b.default.createElement(f.I13nAnchor,{href:C.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:ne},te)):te&&(ee="D(b)",Q.ctaComponent=b.default.createElement(f.I13nAnchor,{href:C.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:ne},te),Q.showCTA=!0)}}}"top"===_.attribution_pos?n=b.default.createElement(a.default,x({className:(0,r.default)(T||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell Mb(2px)"),publisherColor:"C(#96989f)"},Q)):s=b.default.createElement(a.default,x({className:(0,r.default)(T||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell",{"Mt(8px)":"sidekick"!==_.view&&"discussion"!==_.view,"Va(m) Mt(4px)":!!Q.ctaComponent}),publisherColor:"C(#96989f)",sponsorContainerClass:ee},Q));var ie={className:k,data:C,i13nModel:Object.assign(V,{elm:"hdln",outcm:"ad"})};S&&(u=b.default.createElement(o.default,{userAgent:(0,i.default)(this.context,["session","userAgent","osName"]),config:y,data:C,intl:w}),ie.promoConfig=P,ie.onpromoclick=!0);var re=(0,r.default)({"Py(20px)":"sidekick"!==_.view&&"discussion"!==_.view,"Py(14px)":"sidekick"===_.view&&"thingrid"!==_.layout||"discussion"===_.view,"Py(10px) Px(10px)":"thingrid"===_.layout,"H(190px) ":"thingrid"===_.layout&&!S,"smartphone_Px(20px)":"thingrid"!==_.layout},"Pos(r) Ov(h) smartphone_Bxsh(streamBoxShadow)",v.className),se=_.title_pos||"bottom",le=b.default.createElement("h3",{className:t?"":(0,r.default)("M(0) Py(1px)",{"Mb(12px)":"top"===se,"Pos(r)":I})},b.default.createElement(c.Controls.PrimaryLink,ie,b.default.createElement(c.Controls.Headline,{data:C,className:"Fw(600) smartphone_Fw(500)"}),b.default.createElement("u",{className:"StretchedBox Z(1)"})));return b.default.createElement("div",{className:re},n,"top"===se?le:null,t,z,e,"bottom"===se?le:null,s,u)}});t.default=M},2108:function(e,t,n){"use strict";e.exports=function(e){var t=null,n=navigator||{};if(e)try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(",")}catch(e){}else{var a=n.mimeTypes&&n.mimeTypes["application/x-shockwave-flash"];if(a){var o=a.enabledPlugin;o&&(t=o.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."))}}return!!t&&"0"!==t[0]}},2109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertImmutableToJSRecur=function e(t){var n={};return(t||[]).forEach((function(t,a){if("object"===i(t))if(o.default.List.isList(t)){for(var r=[],s=0;s<t.size;s++)r[s]=e(t.get(s));n[a]=r}else n[a]=e(t);else n[a]=t,n[a]=isNaN(parseInt(n[a]))?n[a]:parseInt(n[a])})),n},t.formatVideoBeacons=function(e){var t={};return(e||[]).forEach((function(e,n){if(o.default.List.isList(e)){for(var a=[],i=0;i<e.size;i++)a[i]=e.get(i);t[n]=a}else t[n]=[e]})),t};var a,o=(a=n(21))&&a.__esModule?a:{default:a};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},2110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=y(n(1247)),o=y(n(20)),i=y(n(1571)),r=y(n(71)),s=y(n(1389)),l=n(1255),u=n(70),d=n(1246),c=y(n(21)),f=y(n(6)),p=y(n(4)),m=y(n(1867)),h=y(n(1309)),g=y(n(1789)),b=y(n(1448)),v=y(n(1248));function y(e){return e&&e.__esModule?e:{default:e}}var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x=(0,o.default)({displayName:"MegaItemAd",autobind:!1,mixins:[r.default,l.DataMixin,b.default,g.default],contextTypes:{beacon:f.default.func,intl:f.default.object,session:f.default.object},propTypes:{},getInitialState:function(){return{autoplay:!1,firedBeacons:{},videoPlayer:!1}},componentWillMount:function(){this.props.config.ui.hover_on_image&&(this.onMouseEnterImg=this.onMouseEnterImg.bind(this),this.onMouseLeaveImg=this.onMouseLeaveImg.bind(this))},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)},onMouseEnterImg:function(){this.setState({imgHover:!0})},onMouseLeaveImg:function(){this.setState({imgHover:!1})},render:function(){var e,t=this.props,n=t.data,o=n.get("i13n")||c.default.Map(),r=this.context.intl,f=t.config,g=f.ui||{},b=f.ads||{},y=n.get("adChoicesUrl")||b.adchoices_url,x=b.enableTripleDot,M=g.attribution_pos,C=g.button_pos||"bottom",S=(n.get("hasHqImg")||n.get("hasLargeSquareImg"))&&this.getImage(),P=f.pageload_image_count||3,E=t.index+1>P,w=n.get("summary"),I=this.isVideoplayer(),N=g.summary_classnames,T=g.adattribution_classnames,k=g.adpublisher_classnames||g.adattribution_classnames,O=g.link_classnames,D=g.h3_classnames,A=n.get("cluster"),j=b.enableGeminiDealsWithoutBackground,L=n.get("smadFlashSaleEnding"),B=n.get("countDownPrefixText"),F=n.get("timeDifference"),R=n.get("smadFlashSaleCountDown"),z={bpos:o.get("bpos"),cpos:o.get("cpos"),cposy:o.get("cposy"),ad:1,aid:n.get("id"),pkgt:S?"sponsored_img":"sponsored_noimg",slk:n.get("title"),ct:"ad"},V=null,U=null;if(b&&b.enableFlashSale&&n.get("smadFlashSaleCountDown")&&(U=p.default.createElement(i.default,{countDownTime:n.get("smadFlashSaleCountDown"),isFlashSaleEnding:L,flashSalePrefixText:n.get("countDownPrefixText"),timeDifference:F,intl:r})),j&&n.get("promotions")){var W=n.get("promotions").toJS();if(W&&W[0]&&W[0].value){var H=Date.now(),$=R?Math.floor((Number(R)-Number(H))/864e5):void 0;if(U&&$>7&&$<30){var G=B?"".concat(B," ").concat($," ").concat(this.context.intl.formatMessage({id:"DAYS"})):"".concat(this.context.intl.formatMessage({id:"SALE_ENDS_IN"})," ").concat($," ").concat(this.context.intl.formatMessage({id:"DAYS"}));U=p.default.createElement("div",{className:"Mt(7px) C(#828c93) Fz(13px)"}," ",G," ")}else U&&$>30&&(U=null);V=p.default.createElement(s.default,{promotions:W,link:n.get("link"),isDesktop:!0,intl:r,i13nModel:z})}}if(S&&!I){var q={};g.hover_on_image&&(q.onMouseEnter=this.onMouseEnterImg,q.onMouseLeave=this.onMouseLeaveImg),S=p.default.createElement("div",q,p.default.createElement(l.Controls.PrimaryImage,{checkPosition:!1,className:"D(b) Trsdu(0s)! Bdrs(2px) Mx(a)",data:n,lazyLoad:E}))}A&&(e="sponsored_cluster"),n.get("sponsored_suppress")&&(e="sponsored_suppress"),z.pkgt=e||z.pkgt;var Y,K=(0,a.default)("Cf Ov(h) Pos(r) Py(14px)",{"Mt(-3px)":!!S},t.className);if(w){var Z=(0,a.default)(N||"Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024 LineClamp(2,38px) LineClamp(2,34px)--sm1024 Mt(5px)","M(0)");Y=p.default.createElement(l.Controls.Summary,{className:Z,data:n})}var J;if(S){var X=(0,a.default)("Fl(start) Mt(3px) Mend(25px)",{"W(30%) Maw(255px)":!g.image_classes},g.image_classes);if(I){var Q={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:n.get("link")},ee=this.state.endCard?p.default.createElement("div",{className:"Pos(a) T(50%) V(h) H(100%) W(100%) Ta(c)"},p.default.createElement(v.default,_({},Q,{target:"_blank",rel:"noopener noreferrer"}),r.formatMessage({id:"LEARN_MORE"}))):void 0;J=p.default.createElement("div",{className:X},p.default.createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(n),ee))}else J=p.default.createElement(l.Controls.PrimaryLink,{className:X,data:n,tabIndex:"-1",i13nModel:Object.assign({},z,{elm:"img",outcm:"ad"})},S)}var te,ne=null;if(A)te=p.default.createElement(m.default,{config:f,imageClassName:"Bdrs(2px)",includeBreakPoints:!g.touch_device,index:t.index,storyline:A,i13nModel:z,isAd:!0}),M="top";else if(b.showCTA){var ae=n.get("callToAction");if(ae){ne=p.default.createElement("span",{className:"D(ib) Va(t) Bdrs(2px) Px(8px) Py(4px) Mt(5px) Fz(12px) Bdc($c-fuji-blue-1-a) C($c-fuji-blue-1-a) Bds(s) Bdw(2px)"},ae)}}var oe,ie=p.default.createElement(l.Controls.Publisher,{className:(0,a.default)(k||"Fz(11px)","Td(n) Fw(n) D(ib) C(#959595)",{"Mt(4px)":"top"!==M,"Mstart(9px)":"top"===M}),data:n,i13nModel:{elm:"itm",outcm:"advertiser"},rel:"noopener noreferrer",target:"_blank"}),re=(0,a.default)("Ov(h)",{"Pend(44px)":!!J&&"right"===C,"Pend(14%)":!J,"Pend(0)--sm1024":!J&&"bottom"===C,"Pend(44px)--sm1024":!J&&"right"===C}),se=this.state.imgHover,le=(0,a.default)(O||"Fw(b) Fz(20px) Lh(23px) LineClamp(2,46px) Fz(17px)--sm1024 Lh(19px)--sm1024 LineClamp(2,38px)--sm1024","Td(n) C(#0078ff):h",{"C(#0078ff)":se,"C(#000)":!se}),ue=(0,a.default)(D||"M(0)",{"Pos(r)":I});b.sponsored_label_support&&(oe=n.get("sponsoredByLabel")),oe||(oe=r.formatMessage({id:"SPONSORED"}));var de=(0,a.default)(T||"Fz(12px)","D(ib) Td(n) C(#959595) Mend(3px) Mb(6px)",{"Mend(0px)!":x});return p.default.createElement("div",{className:K},J,p.default.createElement("div",{className:re},p.default.createElement("div",{className:"Pos(r) Z(2) Fw(b)"},p.default.createElement(u.I13nAnchor,{className:de,href:b.sponsored_url,i13nModel:{elm:"icon",outcm:"sponsor"},target:"_blank",rel:"noopener noreferrer"},oe),!x&&p.default.createElement(u.I13nAnchor,{href:y,i13nModel:{elm:"icon",outcm:"info"},target:"_blank",rel:"noopener noreferrer"},p.default.createElement("i",{className:"Pos(r) T(2px)"},p.default.createElement(d.Icon,{asset:h.default,color:"#959595",height:12,style:{verticalAlign:"baseline"}}))),"top"===M?ie:void 0),p.default.createElement("h3",{className:ue},p.default.createElement(l.Controls.PrimaryLink,{className:le,data:n,i13nModel:Object.assign({},z,{elm:"hdln",outcm:"ad"})},p.default.createElement("u",{className:"StretchedBox"}),p.default.createElement(l.Controls.Headline,{data:n}))),V,U,Y,"top"!==M?ie:void 0,ne,te))}});t.default=x},2111:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=_(n(1570)),i=_(n(1247)),r=_(n(0)),s=_(n(1788)),l=_(n(1571)),u=_(n(71)),d=_(n(1389)),c=n(1255),f=_(n(20)),p=n(1260),m=_(n(21)),h=_(n(6)),g=_(n(4)),b=_(n(1367)),v=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1342));function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function _(e){return e&&e.__esModule?e:{default:e}}var x=(0,f.default)({displayName:"SimpleItemAd",autobind:!1,mixins:[u.default,b.default],contextTypes:{intl:h.default.object},propTypes:{},getInitialState:function(){return{adExpired:!1}},render:function(){var e,t,n=this,a=this.props,u=a.config,f=u.ui||{},h=f.view||{},b=a.data,y="headlines"===h,_=b.get("isPromoAd"),x=u.promoAds||{},M=b.get("image")||b.getIn(["images","original"]),C=b.get("link")||"",S=b.get("i13n")||m.default.Map(),P=f.adattribution_pos||"bottom",E=f.adattribution_color||"C($c-fuji-grey-e)",w=f.adpublisher_color||"C(#959595)",I=f.attributionClass||"",N=b.get("smadFlashSaleCountDown"),T=b.get("countDownPrefixText"),k=b.get("timeDifference"),O=u.ads.enableGeminiDealsWithoutBackground,D=null,A={bpos:S.get("bpos"),cpos:S.get("cpos"),cposy:S.get("cposy"),ad:1,aid:b.get("id"),pkgt:M?"sponsored_img":"sponsored_noimg",slk:b.get("title"),elm:"hdln",ct:"ad"},j=function(){n.setState({adExpired:!0})};if(this.state.adExpired)return null;if(u.ads&&u.ads.enableFlashSale&&N&&(D=g.default.createElement(l.default,{countDownTime:N,isFlashSaleEnding:b.get("smadFlashSaleEnding"),flashSalePrefixText:T,timeDifference:k,intl:this.context.intl,hideAd:j})),O&&b.get("promotions")){var L=b.get("promotions").toJS();if(L&&L[0]&&L[0].value){var B=Date.now(),F=N?Math.floor((Number(N)-Number(B))/864e5):void 0;D&&F>7&&F<30?D=g.default.createElement(l.default,{countDownTime:N,isFlashSaleEnding:b.get("smadFlashSaleEnding"),flashSalePrefixText:T,timeDifference:k,intl:this.context.intl,hideAd:j,promotions:L}):D&&F>30&&(D=null),t=g.default.createElement(d.default,{promotions:L,link:C,isMobile:!0,intl:this.context.intl,i13nModel:A})}}var R={className:"Td(n) C(#0078ff):h C($c-fuji-blue-4-b)",href:C,i13nModel:A,data:b};_&&y&&(e=g.default.createElement(s.default,{userAgent:(0,r.default)(this.context,["session","userAgent","osName"]),config:u,data:b,intl:this.context.intl}),R.promoConfig=x,R.onpromoclick=!0);var z=(0,i.default)("Lts(n) Whs(n) D(b) Pos(r)",{"D(tb) Td(n) C(#0078ff):h Pstart(20px) Pb(20px) Pend(13px)":y,"Px(9px)":!y}),V=(0,i.default)({"D(tbr)":y}),U=(0,i.default)("Maw(100%) Pos(r) H(0) Cur(p) Bdrs(2px)",{"D(tbc) W(120px) W(100px)--maw370":y,"Pb(58.1%) Bgc(#ddd)":!y}),W=(0,i.default)("Tdrsu(0s)! Bdrs(2px)",{"Mend(20px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":y,"StretchedBox W(100%) H(100%) ie-7_H(a)":!y}),H=(0,i.default)("W(100%)",{"D(ib)":"top"===P,"D(tbc) Va(t)":y,"D(ib) Mt(6px)":!y&&"top"!==P}),$=_&&x.enableGeminiAdFeedback||!_&&u.ads&&u.ads.enableGeminiAdFeedback,G=(0,i.default)({"M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px) Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)":y,"Mend(20px)":$&&y,"Fz(13px) Fw(700) LineClamp(3,48px)":!y}),q=(0,i.default)({"Fz(11px) C(#96989f) Z(2) Pos(r)":!y},I),Y=(0,i.default)(w,{"D(ib) Ell W(50%) Va(m)":!y});return g.default.createElement("div",{className:z},g.default.createElement("div",{className:V},t,D,g.default.createElement("div",{className:U},g.default.createElement(p.Img,{checkPosition:!1,className:W,forceLoad:!v.isLazyLoad(a),url:M&&M.get("url")})),g.default.createElement("div",{className:H},"bottom"===P?g.default.createElement(c.Controls.PrimaryLink,R,g.default.createElement(c.Controls.Headline,{className:G,data:b}),g.default.createElement("u",{className:"StretchedBox Z(1)"})):null,g.default.createElement(o.default,{className:q,config:u,data:b,intl:this.context.intl,sponsoredColor:E,publisherColor:Y}),e,"top"===P?g.default.createElement(c.Controls.PrimaryLink,R,g.default.createElement(c.Controls.Headline,{className:G,data:b}),g.default.createElement("u",{className:"StretchedBox Z(1)"})):null)))}});t.default=x},2303:function(e,t,n){"use strict";e.exports=n(2832)},2305:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(1247)),i=d(n(6)),r=d(n(4)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1342)),l=d(n(2837));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}var c={beauty:"C($c-fuji-beauty)",business:"C($c-fuji-blue-1-a)",celebrity:"C($c-fuji-punch-a)",entertainment:"C($c-fuji-entertainment)",finance:"C($c-fuji-blue-1-a)",health:"C($c-fuji-teal-1-a)",hkfood:"C($c-fuji-style)",hkstylemen:"C($c-fuji-style)",hktravelnow:"C($c-fuji-style)",lifestyle:"C($c-fuji-lifestyle)",movies:"C($c-fuji-movies)",music:"C($c-fuji-music)",news:"C($c-fuji-blue-1-a)",politics:"C($c-fuji-blue-3-a)",popculture:"C($c-fuji-ruby-a)",science:"C($c-fuji-blue-3-a)",sports:"C($c-fuji-orange-c)",style:"C($c-fuji-ruby-a)",technology:"C($c-fuji-orange-b)",tv:"C($c-fuji-tv)",trending:"C($c-fuji-purple-1-b)",us:"C($c-fuji-blue-1-a)",wellness:"C($c-fuji-ruby-a)",world:"C($c-fuji-blue-1-a)"},f=/\./g,p=function(e,t){var n=e.data,a=e.className,i=t.intl,u=t.session,d=n.get("categoryLabel"),p=d&&d.replace(f,"").toLowerCase(),m=n.get("property"),h=s.isEditorsPick(n),g=s.isNeedToKnow(n),b=s.getContentLabel(n,i.messages),v="C(#0078ff)";if(!b&&!h)return null;p&&c[p]&&!g?v=c[p]:m&&!g&&(v="C($c-fuji-"+m+")");var y={className:(0,o.default)(a,v,{"Mend(9px)":!!b,"Mt(-2px)":u.userAgent&&"internet explorer"!==u.userAgent.browserName}),"data-test-locator":"catlabel",key:"catlabel"};return h?r.default.createElement("div",y,r.default.createElement(l.default,{intl:i}),b):r.default.createElement("div",y,b)};p.displayName="CategoryLabel",p.contextTypes={intl:i.default.object.isRequired,session:i.default.object},p.propTypes={className:i.default.string,data:i.default.object.isRequired},p.defaultProps={className:"Fw(b) Mb(2px) smartphone_Mb(8px) Tt(c) Ell"};var m=p;t.default=m},2306:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=v(n(1247)),i=n(1255),r=v(n(20)),s=v(n(0)),l=n(1246),u=v(n(21)),d=n(222),c=v(n(1248)),f=v(n(1366)),p=v(n(6)),m=v(n(4)),h=v(n(1309)),g=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1342));function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function v(e){return e&&e.__esModule?e:{default:e}}var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function _(e){if(e){var t=e.get("width"),n=e.get("height");if(t&&n)return m.default.createElement("div",{className:"H(0) Mb(5px)",style:{paddingBottom:Math.round(n/t*100)+"%"}},m.default.createElement("img",{className:"W(100%) H(a) Bdrs(2px)",src:e.get("url"),width:t,height:n}))}}var x=(0,r.default)({displayName:"RelatedAd",autobind:!1,mixins:[i.DataMixin],contextTypes:{intl:p.default.object.isRequired},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},render:function(){var e,t=this.props,n=t.data,a=t.idx+1,i=n.get("link")||n.get("url")||"",r=n.get("image"),s=t.cposy?t.cposy+"."+a:0,u=g.parseUrl(n.get("link"))||n.get("url")||"",d={className:(0,o.default)("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",t.titleClassName),followLink:!0,href:i,i13nModel:{ad:1,cposy:s,ct:1,g:n.get("id"),pkgt:"youmaylike",pos:a,tar:u.host,tar_uri:u.pathname},navParams:{url:n.get("url")},rel:"nofollow noopener noreferrer",target:"_blank"};return t.sponsoredByLabel&&(e=n.get("sponsoredByLabel")),e||(e=this.context.intl.formatMessage({id:"SPONSORED"})),m.default.createElement(c.default,d,_(r),m.default.createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},n.get("title")),m.default.createElement("div",{className:"C(#959595) Mt(2px) Fz(11px)"},m.default.createElement("span",{className:"Mend(6px)"},n.get("publisher")),m.default.createElement("div",{className:"Whs(nw) D(ib) Va(t) C($c-fuji-grey-j)"},e,m.default.createElement(l.Icon,{asset:h.default,className:"Mstart(4px)",height:11,color:"#464e56",style:{verticalAlign:"text-top"}}))))}}),M=(0,r.default)({displayName:"RelatedItemsList",autobind:!1,mixins:[d.ComponentMixin],contextTypes:{i13n:p.default.object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE"}}},propTypes:{},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},componentDidMount:function(){var e=this.context.i13n,t=e.getI13nNode().getMergedModel();t.elm="rhdln",t.pkgt="youmaylike",delete t.itc,delete t.ct,e.executeEvent("beacon",{beaconType:"beaconClick",arguments:["strm",t.slk,1,t]})},getRelatedItemComponents:function(){var e=this.props,t=e.relatedItems||u.default.List(),n=e.config.ui||{},a=n.related_item_width||Math.floor(100/n.related_count)+"%",r=n.prerender||{},l=n.show_read,d=[],p=(0,s.default)(e.config,["ads","partial_viewability"])||!1;n.storyline_navparam_enabled&&t.forEach((function(e){e&&!g.isAd(e)&&d.push(e.get("id"))}));var h=(0,o.default)("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",e.titleClassName,{"C(#959595):vi":l}),b={width:a},v="stream-related-item D(ib) Bxz(bb) Pend(12px) Whs(n) Va(t)";return t.map((function(t,n){var a=t.get("link")||t.get("url")||"",o=_(t.get("image")),s=n+1,l=e.cposy?e.cposy+"."+s:0,u=g.getBaseI13n(t,null,n,!0),M={className:h,followLink:g.shouldFollowLink(t,e.config),href:a,i13nModel:Object.assign({},u,{cposy:l,elm:"rhdln",pkgt:"youmaylike",pos:s}),navParams:{relatedUuids:g.filterStoryId(d,t.get("id")),url:t.get("url")}};return g.isAd(t)?m.default.createElement("li",{className:v,style:b,key:n},m.default.createElement(i.Controller,{component:x,cposy:e.cposy,data:t,scrollHandler:p,idx:n,sponsoredByLabel:e.config.ads.sponsored_label_support,titleClassName:e.titleClassName})):m.default.createElement(f.default,y({className:v,key:n,nodeName:"li",payload:{url:a},style:b},r),m.default.createElement(c.default,M,o,m.default.createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},t.get("title")),m.default.createElement("div",{className:"C(#959595) Mt(2px)"},t.get("publisher"))))}))},render:function(){if(!this.props.relatedItems)return null;var e=(0,o.default)("Mt(12px) Fz(11px) C(#7200ff) Whs(nw) Pos(r) Z(1) Lh(18px)",this.props.className);return m.default.createElement("ul",{className:e},this.getRelatedItemComponents())}});t.default=M},2307:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=T(n(1247)),i=n(70),r=T(n(20)),s=T(n(422)),l=T(n(0)),u=T(n(72)),d=T(n(6)),c=T(n(4)),f=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=N();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1342)),p=T(n(12)),m=T(n(71)),h=T(n(1367)),g=T(n(2305)),b=T(n(1412)),v=n(1260),y=T(n(1248)),_=T(n(1366)),x=T(n(2306)),M=T(n(1867)),C=n(1388),S=T(n(1439)),P=T(n(1448)),E=T(n(2097)),w=T(n(2839)),I=n(1363);function N(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return N=function(){return e},e}function T(e){return e&&e.__esModule?e:{default:e}}var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O=(0,i.createI13nNode)(I.ShareButtonMenu),D=(0,i.createI13nNode)(I.ShareButtonGroup),A=(0,r.default)({displayName:"MegaItem",autobind:!1,mixins:[m.default,h.default,P.default],contextTypes:{intl:d.default.object.isRequired,session:d.default.object},propTypes:{},getInitialState:function(){return this.pageStore=this.context.getStore(p.default),this._getState(this.props)},componentWillMount:function(){var e=this.props.config.ui;e&&e.related_enabled&&(this._hideRelatedContent=this._hideRelatedContent.bind(this))},componentDidMount:function(){var e=(this.props.config.video||{}).deleteYvapCookie;if(e){var t=new Date;t.setDate(t.getDate()-30),s.default.set(e,"",{expires:t})}this.setState({buttons:f.shouldRenderButtons(this.props)})},componentWillReceiveProps:function(e){var t=this.props,n=t.config,a=t.data,o=a.get("id"),i=(e.userIntentData||{}).target,r=!f.shouldRenderUserintent(n)||!i||i!==o;if(e.data!==a||!r||e.relatedItems!==this.props.relatedItems){var s=this._getState(e);s.buttons=this.state.buttons,this.setState(s)}},_getState:function(e){var t=f.getBaseItemState(e);return t.images=this._getImages(e.data),t.image=t.images["1x"]||t.images["2x"],t.model=f.getBaseI13n(e.data,t.image,e.index),t},_getImages:function(e){var t=!!e.get("storyline"),n=e.get("images");return n?t?{"1x":n.get("img:220x193")||n.get("img:100x100"),"2x":n.get("img:440x386")||n.get("img:200x200")}:{"1x":n.get("img:220x123")||n.get("img:255x162")||n.get("img:100x100"),"2x":n.get("img:440x246")||n.get("img:510x324")||n.get("img:200x200")}:{}},_generateButtons:function(e,t){if(this.state.buttons){var n=this.renderComment(e),a=(0,l.default)(this.props.config,["ui","share_buttons"],{}),i=a.inline?this.renderShareButtonGroup():this.renderShareButtonMenu(e),r=this.renderUserintent(),s=a.shareButtonExtraClasses||"";if("bottom"===e)return c.default.createElement("div",{className:(0,o.default)("Mt(8px) Mt(2px)--sm1024 Pos(a) NoJs_D(n)",s)},i,n);if("right"===e)return c.default.createElement("div",{className:(0,o.default)("Pos(a) T(14px) End(0) W(36px) Ta(c) NoJs_D(n)",s,{"Mt(20px)":t})},n,i,r)}},renderShareButtonGroup:function(){var e=this.props,t=e.config,n=e.data;if(f.shouldRenderShareButtonMenu(n,t)){var a={borderColorOverride:"transparent",buttonsToShow:f.getButtonsToShow(n,t),className:"D(tbc) Va(b)",hoverBorderColorOverride:"transparent",iconSize:"18",roundButtonDiameter:20,buttonSpacingPixels:21,sharingConfig:{twitterId:t.twitter_id},useButtonColorForBackgroundOnHover:!1,hoverColors:(0,l.default)(t,["ui","share_buttons","hoverColors"]),colorOverride:"#babec8",model:{slk:null,tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)};return c.default.createElement(D,k({},a,f.getSharingGroupMetadata(n,this.pageStore)))}},renderShareButtonMenu:function(e){var t=this.props.config,n=this.props.data;if(f.shouldRenderShareButtonMenu(n,t)){var a="right"===e?"left":"down",i=(0,l.default)(t,["ui","share_buttons","openDirection"],null);i&&(a=i);var r=(0,l.default)(t,["ui","share_button_class"],"Mend(30px) Va(m)");"bottom"!==e&&(r="");var s=t.ui||{},u=Object.assign({ariaLabel:this.context.intl.formatMessage({id:"SHARE_MENU"}),buttonsToShow:f.getButtonsToShow(n,t),className:(0,o.default)(r),isTouchDevice:s.touch_device,openButtonColor:"#959595",openButtonIconName:"share",openButtonIconSize:20,openDirection:a,twitterId:t.twitter_id,model:{elm:"share",elmt:"btn",itc:1,slk:"share",tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)},f.getSharingMetadata(n,this.pageStore));return c.default.createElement(O,u)}},_getShareYlkData:function(e){return{sec:"strm",g:e.g,cpos:e.cpos,bpos:e.bpos,pkgt:e.pkgt,cnt_tpc:e.cnt_tpc,ct:e.ct}},_generateCategoryLabel:function(e){var t=(0,l.default)(this.props.config,["ui","attribution_classnames"])||"";return g.default.call(this,{className:(0,o.default)(t||"Fz(12px)","Fw(b) Tt(c) D(ib) Mb(6px)"),data:e,key:"catlabel"},this.context)},_generateHeader:function(e,t){var n=this.props,a=n.data,i=n.read,r=n.config.ui||{},s=r.link_classnames,l=r.h3_classnames;l=this._shouldRenderHeaderAndAttrAboveAll()?"Mb(15px)":l||"Mb(5px)";var u={className:(0,o.default)(s||"Fw(b) Fz(20px) Lh(23px) Fz(17px)--sm1024 Lh(19px)--sm1024","mega-item-header-link Td(n) C(#0078ff):h",{"C(#000)":!i,"C(#959595)":i,"LineClamp(2,46px) LineClamp(2,38px)--sm1024 not-isInStreamVideoEnabled":!t,"LineClamp(4,92px) LineClamp(4,76px)--sm1024 isInStreamVideoEnabled":t}),i13nModel:{elm:"hdln",pos:1}};return c.default.createElement("h3",{className:l,key:"header"},c.default.createElement(y.default,k({},e,u),c.default.createElement("u",{className:"StretchedBox"}),a.get("title")))},_shouldRenderHeaderAndAttrAboveAll:function(){var e=this.props,t=e.data,n=e.config,a=f.getItemThumbSize(t,n);return this._isInlineVideo()&&"large"===a},_isInlineVideo:function(){var e=this.props,t=e.data,n=e.config;return this.state.supportsVideoAutoplay&&f.isInlineVideo(t,n)},_hideRelatedContent:function(){this.setState({relatedItems:null})},_generateRelatedContent:function(e){var t=this.props,n=this.state,a=n.relatedItems;if(a)return c.default.createElement(C.Drawer,{className:(0,o.default)("stream-related-content Cl(b) Mt(12px)",{"D(n)":e}),closeButtonModel:{pkgt:"youmaylike"},onClose:this._hideRelatedContent},c.default.createElement("p",{className:"Fz(13px) Fw(b) C(#111) Px(12px) Mx(-12px)"},this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"})),c.default.createElement(x.default,{className:"Mend(-8px)",config:t.config,cposy:n.model.cposy,relatedItems:a,titleClassName:"C(#000)"}))},renderComment:function(e){var t=this.props,n=t.config,a=t.data,i=t.navParams;if(f.shouldRenderComment(a,n)){var r=a.get("id"),s=a.get("commentCount"),u={className:(0,l.default)(n,["ui","comment_button_class"],""),count:s,display:"bottom"===e?"inline":"inline-block",enableHoverColor:!0,enableTooltip:"right"===e,iconColor:"#959595",iconSize:20,navParams:Object.assign(f.getNavParams(a,n),i),openDirection:"right"===e?"left":"down",stringClassName:(0,o.default)("Fw(b)",{"Mt(-14px)":"right"===e&&s>0}),textAlign:"bottom"===e?"right":"top",url:a.get("link"),useFujiIcon:(0,l.default)(n,["ui","useFujiIcon"],!1),uuid:r};return a.get("off_network")&&(u.target=(0,l.default)(n,["offnet","target"])||void 0),c.default.createElement(b.default,u)}},renderUserintent:function(){var e=this.props,t=e.config,n=e.data,a=n.get("id"),o=n.get("publisher"),i=n.get("publisher_id");if(f.shouldRenderUserintent(t)&&i)return c.default.createElement(E.default,{index:e.index,config:(0,l.default)(t,["ui","user_intent"]),uuid:a,publisher:o,publisherId:i,viewport:{margins:{usePercent:!0,top:-.2,bottom:-.2}}})},renderUserintentConfirm:function(){var e=this.props,t=e.config,n=e.data,a=n.get("id"),o=n.get("publisher"),i=n.get("publisher_id");if(f.shouldRenderUserintent(t))return c.default.createElement(w.default,{index:e.index,uuid:a,publisher:o,publisherId:i})},render:function(){var e,t,n=this.props,a=this.state,r=n.data,s=n.config,d=s.ui||{},p=d.prerender||{},m=r.get("publisher"),h=r.get("storyline"),g=f.shouldRenderUserintent(s),b=n.userIntentData||{},y=g&&b[m],x=a.storylineIds,P=r.get("link")||"",E=r.get("id"),w=this._isInlineVideo(),I=w&&d.inStreamVideo&&d.inStreamVideo.enabled,N=Object.assign(f.getNavParams(r,s),n.navParams),T=r.get("video_enrichment"),O=w&&T?T.get("uuid"):E,D={followLink:f.shouldFollowLink(r,s),href:P,target:r.get("off_network")?(0,l.default)(s,["offnet","target"]):void 0,navParams:N},A=n.header||this._generateHeader(D,I),j=d.attribution_classnames,L=d.attribution_pos?c.default.createElement(C.Attribution,{className:(0,o.default)(j||"Fz(11px)","D(ib) Mb(6px)"),data:r,key:"attribution"}):null;d.show_label&&(e=n.categoryLabel||this._generateCategoryLabel(r));var B,F=this._generateRelatedContent(y),R=f.getItemThumbSize(r,s),z=this._shouldRenderHeaderAndAttrAboveAll(),V=a.image,U=d.button_pos||"bottom",W="right"===U,H=this._generateButtons(U,!(!m&&!e)),$=d.summary_classnames,G=d.extra_summary_class||"",q=d.full_width_text_only||!1;if(V){var Y,K=!f.isLazyLoad(n),Z=(0,o.default)("Fl(start) Pos(r) Mt(2px)",I&&d.inStreamVideo.image_classes||d.image_classes||{small:"W(30%) Maw(255px)",medium:"W(50%) Maw(400px)",large:"W(100%) Maw(880px) Fl(n)!"}[R]),J=Math.round(V.get("height")/V.get("width")*100);if(a.typeIcon){var X=d.magazine_icon;Y=c.default.createElement(C.TypeIcon,{iconSize:X?16:20,lazyLoad:!K,magazineFormat:X,orbSize:50,type:a.typeIcon})}if(w){var Q={},ee=(0,o.default)(Z,{"Mb(15px)!":z}),te=s.video||{},ne={autoplay:te.autoplay,ccOnMute:te.ccOnMute,continuousPlay:te.continuous_play,clickParams:Object.assign({},a.model),cpos:a.model.cpos,enableAd:te.enable_ads,energySaverMode:te.energy_saver_mode,mute:te.mute,navToUrlOnClick:te.navigate_on_click&&P,replayonlyendscreen:te.replayonlyendscreen,showTitleOnHover:!te.disable_title_on_hover,stopBufferingOnPause:te.disable_buffer_on_pause,videoId:O};if(te.exp_type&&(ne.expType=te.exp_type),te.exp_name&&(ne.expName=te.exp_name),te.YVAP&&(ne.YVAP=te.YVAP),n.i13n){var ae=n.i13n.getI13nNode().getMergedModel();ne.ccode=ae.ccode,ne.sec=ae.sec;var oe=this.getStore(u.default).getI13nConfig();ne.rid=(0,l.default)(oe,["rapid","keys","_rid"])}var ie=h&&!I?"Pb(87.45%)":"Pb(56.25%)";(Q=f.getVideoManagedPlayerConfig(ne)).vpClassName="H(0) "+ie,te.enable_cc_on_mute&&(Q.ccOnMute=!0),B=c.default.createElement("div",{className:ee},c.default.createElement(S.default,Q))}B||(B=c.default.createElement("div",{className:Z},c.default.createElement("div",{className:"H(0) Ov(h) Bdrs(2px)",style:{paddingBottom:J+"%"}},c.default.createElement(v.Img,{url:V.get("url"),srcSet:f.createSrcSet(a.images),forceLoad:K,checkPosition:!1,className:"W(100%) Trsdu(0s)! Bdrs(2px)",alt:r.get("title")}),Y))),h&&!I&&(t=c.default.createElement(M.default,{config:s,imageClassName:"Bdrs(2px)",includeBreakPoints:!d.touch_device,index:n.index,storyline:h,storylineIds:x}))}var re=(0,o.default)("Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024",{"LineClamp(2,38px) LineClamp(2,34px)--sm1024":B&&!z&&!I,"LineClamp(3,57px) LineClamp(3,51px)--sm1024":!B,"LineClamp(5,95px) LineClamp(4,68px)--sm1024":z||I}),se=(0,o.default)($||re,"M(0)",{"D(n)--sm1024 Bxz(bb) Pb(2px)":!!t,"C(#959595)":n.read},G),le=(0,o.default)("Ov(h)",{"Pend(14%)":!B&&!q,"Pend(0)--sm1024":!B&&!W,"Pend(44px)--sm1024":!B&&W,"Pend(44px)":!!B&&W,"Pstart(25px)":!!B&&"large"!==R,"Pos(r)":w,"JsEnabled_Mb(32px)":(H||f.shouldRenderButtons(n))&&!W,"W(100%)":!!B&&"large"===R}),ue=[e,L,A],de=y&&this.renderUserintentConfirm();return c.default.createElement(i.I13nDiv,{className:(0,o.default)("Py(14px) Pos(r)",{"Trs(streamItemTransition)":g,"Mih(100px)":g&&!y,"Mih(44px)":y}),"data-test-locator":"mega",i13nModel:a.model},c.default.createElement(_.default,k({className:(0,o.default)("Cf",{"D(n)":y}),nodeName:"div",payload:{url:P,itemI13n:N.itemI13n}},p),z?ue:void 0,B,c.default.createElement("div",{className:le},z?void 0:ue,c.default.createElement("p",{className:se},r.get("summary")),t,W?void 0:H),W?H:void 0),F,de)}});t.default=A},2831:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=B(n(1247)),i=B(n(20)),r=B(n(0)),s=B(n(72)),l=B(n(21)),u=B(n(6)),d=B(n(4)),c=B(n(2303)),f=L(n(1342)),p=L(n(1471)),m=n(1388),h=B(n(71)),g=B(n(1367)),b=B(n(1448)),v=B(n(1623)),y=B(n(420)),_=B(n(426)),x=B(n(2305)),M=B(n(1412)),C=B(n(229)),S=n(70),P=n(1246),E=n(1260),w=B(n(1248)),I=B(n(12)),N=B(n(2306)),T=B(n(1666)),k=n(1363),O=B(n(2838)),D=B(n(1439)),A=B(n(1350));function j(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return j=function(){return e},e}function L(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=j();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function B(e){return e&&e.__esModule?e:{default:e}}var F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R=(0,i.default)({displayName:"Featured",autobind:!1,mixins:[h.default,g.default,b.default,v.default],contextTypes:{intl:u.default.object.isRequired},propTypes:{},getInitialState:function(){return this.reelStore=this.getStore(A.default),this._getState(this.props)},componentWillMount:function(){this.onClickToggle=this.onClickToggle.bind(this)},componentDidMount:function(){this.setState({buttons:f.shouldRenderButtons(this.props)})},componentWillReceiveProps:function(e){if(e.data!==this.props.data||e.relatedItems!==this.props.relatedItems){var t=this._getState(e);t.buttons=this.state.buttons,this.setState(t)}},_getState:function(e){var t=e.data,n=f.getBaseItemState(e),a=f.isNeedToKnow(t);return n.image=this._getImage(t),n.model=f.getBaseI13n(t,n.image,e.index),n.storylineInitValue=a,n.storylineVisible=a,n.title=null,n.shouldRenderVideo=!1,n.firstLiveVideo=null,n.isForcePlay=!1,n.shouldShowChyron=!1,n},_getImage:function(e){var t=e.get("images")||l.default.Map();return t.get("img:320x?")||t.get("original")},_generateImage:function(e,t){var n,a=this,i=this.props.data,r=this.props.config,s=r.video||{},u=r.ui||{},c=u.use_img,p=f.isLazyLoad(this.props),h=(0,o.default)("Pos(r) smartphone_Mx(a) smartphone_Mb(12px) Maw(500px)",{"Ov(h)":c}),g=this.state.image||l.default.Map(),b=g.get("width")||0,v=g.get("height")||0,y=u.thumbnail_min_width||0;if(t&&!this.state.shouldRenderVideo){var _=(0,o.default)("W(100%) D(b) Pos(r) H(0)",{"Pb(56.25%)":this.state.shouldShowChyron});return d.default.createElement("div",{className:h},d.default.createElement("div",{className:_,ref:function(e){a.chyronContainer=e}}))}if(e)return d.default.createElement("div",{className:h},this._generateVideoThumbnail(i,s,t));if(b&&b>=y){var x=Math.round(v/b*100);x=Math.min(x,0===this.props.index?75:100);var M,C=c?"img":"div",S={},P={url:g.get("url"),nodeName:C,forceLoad:!p,checkPosition:!1,className:(0,o.default)("Mb(6px)",{"Bdrs(2px)":"sidekick"===u.view,"W(100%) Pos(a)":c},"Bgz(cv) Trsdu(0s)!")};if(c?S.paddingBottom=x+"%":P.style={paddingBottom:x+"%"},this.state.typeIcon){var w="sidekick"===u.view,I=u.magazine_icon,N=I?16:w?20:30,T=w?50:80;M=d.default.createElement(m.TypeIcon,{iconSize:N,lazyLoad:p,magazineFormat:I,orbSize:T,type:this.state.typeIcon})}var k=d.default.createElement(E.Img,P);c&&(k=d.default.createElement("div",{style:S},d.default.createElement(E.Img,P))),n=d.default.createElement("div",{className:h},k,M)}return n},_generateVideoThumbnail:function(e,t,n){var a,o,i,l={},u=null===this.state.firstLiveVideo||this.state.isForcePlay,c={autoplay:n?u:t.autoplay,cpos:this.state.model.cpos,enableAd:t.enable_ads,energySaverMode:t.energy_saver_mode,mute:t.mute,stopBufferingOnPause:t.disable_buffer_on_pause,videoId:e.get("id")};if(t.exp_type&&(c.expType=t.exp_type),this.props.i13n){var p=this.props.i13n.getI13nNode().getMergedModel();c.sec=p.sec,c.ccode=p.ccode;var m=this.getStore(s.default).getI13nConfig();c.rid=(0,r.default)(m,["rapid","keys","_rid"])}return n?c=this._addVideoReelProps(e,t,c):c.navToUrlOnClick=t.navigate_on_click&&e.get("link"),(l=f.getVideoManagedPlayerConfig(c)).vpClassName="H(0) Pb(56.25%)",t.enable_cc_on_mute&&(l.ccOnMute=!0),n&&(l.autoplay=c.autoplay,this.state.location&&l.yvpConfig&&(l.yvpConfig.allowGeoRequest=!0,l.yvpConfig.geoData={latitude:this.state.location.lat,longitude:this.state.location.long,accuracy:this.state.location.accuracy}),o=this._getCustomReelComponentConfig(l)),a=o?C.default:D.default,i=o?{components:[o]}:l,d.default.createElement(a,i)},_addVideoReelProps:function(e,t,n){var a=e.mediaItem,o=a&&a.id?a:{id:e.id,type:"video"},i=this.context.getStore(I.default),r=i&&i.getPageConfig(),s=this.reelStore.getPlaylist(r.channelName);return n.expName=t.exp_name||this.reelStore.getExpName(r.channelName),n.expType=t.exp_type||"default",n.showTitleOnHover=t.show_title_on_hover||!0,n.showControls=t.show_controls||!0,n.displayMarkers=t.display_markers||!1,n.hidePlaylist=t.hide_playlist||!0,n.video_reel=!0,this.state.firstLiveVideo&&(o={id:this.state.firstLiveVideo.uuid,type:"video"},s=[{mimetype:"media/sapi",id:this.state.firstLiveVideo.uuid}]),n.mediaItem=o,n.playlist={mediaItems:s},n},_getCustomReelComponentConfig:function(e){var t,n=this.context.getStore(I.default),a=n&&n.getPageConfig(),o=a&&a.enableCustomReelComponent&&n.getComposite(a.customReelComponentId);return o&&o.components&&((t=Object.assign({},o.components[0])).props.videoProps=e),t},_generateStoryline:function(){var e=this.props.data.get("storyline"),t=(0,r.default)(this.props.config,["ui","storyline_min_count"])||e&&e.size||0;if(this.state.storylineVisible&&e&&e.size>=t)return d.default.createElement(O.default,{config:this.props.config,storyline:e,wrapperModel:this.state.model,navParams:this.props.navParams})},_generateRelatedContent:function(){var e=this.state.relatedItems;if(e){var t=this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"});return d.default.createElement(m.Drawer,{className:"stream-related-content Mb(-12px)",closeButton:!1},d.default.createElement("p",{className:"Fz(13px) Fw(b) C(#111) Mt(12px) Px(12px) Mx(-12px) Pt(12px) Mb(-8px) Bdtw(12px) Bdts(s) Bdtc(#eee)"},t),d.default.createElement(c.default,{axis:"x",className:"Mend(-12px) Mstart(0) Mt(6px) Mb(4px)",stopPropagation:!0},d.default.createElement(N.default,{relatedItems:e,config:this.props.config})))}},_generateStorylineToggle:function(){var e=this.props.data,t=e.get("storyline"),n=this.context.intl.formatMessage,a=f.isNeedToKnow(e),i=e.get("publisher");if(t&&t.size){var r,s=this.state.storylineVisible,l=this.state.storylineInitValue,u=(0,o.default)("Mstart(4px) Trsdu(.42s) Pos(a) T(-5%)",{"Rotate(-180deg)":l&&!s,"Rotate(180deg)":!l&&s});r=n(a?s?{id:"HIDE_STORIES"}:{id:"SHOW_STORIES"}:s?{id:"HIDE_SOURCES"}:{id:"SHOW_SOURCES"});var c={elm:"btn",elmt:s?"hide":"expand"};return d.default.createElement(S.I13nButton,{className:(0,o.default)("Pos(r) D(b) P(0) Fz(11px) smartphone_Fz(13px) Bd(0) Z(1) O(0) Whs(nw) Lh(1)",{"C(#959595)":i,"C(#0078ff)":!i}),i13nModel:c,onClick:this.onClickToggle,style:{WebkitTapHighlightColor:"transparent"}},d.default.createElement("span",{className:"Ell Maw(140px) Maw(110px)--sm320 D(ib)"},i||r),d.default.createElement(P.Icon,{asset:l?_.default:y.default,className:u,color:i?"#959595":"#0078ff",height:16,width:16,style:{verticalAlign:"initial"}}))}},onClickToggle:function(){this.setState({storylineVisible:!this.state.storylineVisible})},render:function(){var e,t=this.props,n=t.config,a=n.ui||{},i=t.data,s=i.get("summary"),l=i.get("link")||"",u=a.attribution_pos,c=a.title_pos||"bottom",h=this.state.supportsVideoAutoplay&&f.isInlineVideo(i,n),g=p.shouldRenderReel(i,n,this.reelStore),b=g&&p.isReelItemLive(i,this.reelStore),v=i.get("storyline"),y=v&&v.size>0,_="roundup"===i.getIn(["clusterInfo","type"]),M=a.link_classnames,C=a.provider_classnames,P=a.show_label;g&&(h=!0,c=b&&a.title_pos_live_reel||c,P=b&&void 0!==a.show_label_live_reel?a.show_label_live_reel:P),e=_?"needtoknow":"featured";var E,I={className:(0,o.default)(M||"Fz(13px) LineClamp(4,96px)","C(#0078ff):h Td(n)",{"C($c-fuji-blue-4-b) smartphone_C(#000)":!t.read,"C(#959595)":t.read,"smartphone_Fz(19px)":"thingrid"!==a.layout}),followLink:f.shouldFollowLink(i,n),href:l,i13nModel:Object.assign({},this.state.model,{elm:"hdln",pos:1}),navParams:Object.assign(f.getNavParams(i,n),t.navParams),target:i.get("off_network")?(0,r.default)(n,["offnet","target"]):void 0},N=this._generateImage(h,g);P&&(E=d.default.createElement(x.default,{data:i}));var T,k=(0,o.default)({"Mb(2px)":"top"===u,"Ell W(44%)":"bottom"===u&&y}),O=d.default.createElement(m.Attribution,{className:k,data:i});if(!N&&!h){var D=(0,o.default)("M(0) Mt(12px) Lh(18px) LineClamp(3,54.015px)",{"C(#959595)":t.read});T=d.default.createElement("p",{className:D},s)}var A=h?null:d.default.createElement("u",{className:"StretchedBox Z(1)"}),j=(0,o.default)({"Py(20px) smartphone_Px(20px)":"sidekick"!==a.view,"Py(14px) smartphone_Px(20px)":"sidekick"===a.view&&"thingrid"!==a.layout,"Py(10px) H(190px) Px(10px)":"sidekick"===a.view&&"thingrid"===a.layout},"smartphone_Bxsh(streamBoxShadow) Cf",t.className),L=i.get("title");g&&this.state.shouldRenderVideo&&(null===this.state.firstLiveVideo&&(L=b?p.getItemTitle(i,this.reelStore):this.context.intl.formatMessage({id:"VIDEO_REEL_TITLE"})),L=null!==this.state.title?this.state.title:L);var B=d.default.createElement("h3",{className:(0,o.default)("M(0) Py(1px)",{"Mb(12px)":"top"===c,"Pos(a) B(50px) Start(16px) Lh(22px)":"inline-bottom"===c})},d.default.createElement(w.default,I,d.default.createElement("span",{className:"Fw(600) smartphone_Fw(500)"},L),A)),F=f.shouldRenderButtons(t);return d.default.createElement(S.I13nDiv,{className:j,i13nModel:this.state.model,"data-test-locator":e},d.default.createElement("div",{className:"Pos(r)"},E,"top"===u?O:void 0,d.default.createElement("div",{className:"Pos(r)"},"top"===c?B:void 0,N,"bottom"===c?B:void 0,T,F||y||"bottom"===u?d.default.createElement("div",{className:(0,o.default)(C||"Lh(1.2) Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1)",{"Mt(20px)":y&&"sidekick"!==a.view,"Mt(10px)":!y&&"sidekick"!==a.view,"Mt(4px) C(#96989f)":"sidekick"===a.view,"smartphone_H(15px)":F})},this._renderButtons(),y?this._generateStorylineToggle():"bottom"===u?O:void 0):void 0)),this._generateStoryline(),this._generateRelatedContent())},_renderButtons:function(){if(this.state.buttons)return d.default.createElement("div",{className:"NoJs_D(n) Pos(a) End(0) B(-6px)"},this.renderComment(),this.renderShareModal())},renderComment:function(){var e=this.props.data,t=this.props.config;if(f.shouldRenderComment(e,t)){var n={count:e.get("commentCount"),iconSize:25,model:this.state.model,navParams:{pageTitle:e.get("title"),url:e.get("url")},url:e.get("link"),uuid:e.get("id")};return t.persist_category&&(n.navParams.category=t.category),d.default.createElement(M.default,n)}},renderShareModal:function(){var e=this.props,t=e.config,n=e.data;if(f.shouldRenderShareButtonMenu(n,t)){var a={buttonRenderer:this.getOpenModalButtonRenderer(),buttonsToShow:f.getButtonsToShow(n,t),className:"D(ib)",enableTumblrReblog:!0,iconSize:25,twitterId:t.twitter_id};return d.default.createElement(k.ShareModal,F({},f.getSharingMetadata(n),a))}},getOpenModalButtonRenderer:function(){return function(e){return d.default.createElement(S.I13nButton,{className:"O(0):f Bd(0) P(0) Pstart(10px)--sm320 D(ib) Va(m) Pstart(23px)",i13nModel:{itc:1,elm:"share",elmt:"btn",slk:"share",tar:null,tar_uri:null},onClick:e},d.default.createElement(P.Icon,{asset:T.default,height:25,color:"#ccc",style:{margin:"auto",verticalAlign:"bottom",position:"relative",top:"-3px"}}))}}});t.default=R},2832:function(e,t,n){"use strict";var a,o,i,r=n(6),s=n(4),l=n(20),u=n(49),d="transform",c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};"undefined"!=typeof window&&(o=n(2055)),a=l({displayName:"ScrollView",offset:0,offsetTarget:0,offsetMin:0,offsetMax:0,releaseTime:0,afterBoundsTime:0,amplitude:0,getInitialState:function(){return{translate:0,translateTransition:!1}},propTypes:{rubberBandTiming:r.number,lubricity:r.number,stopPropagation:r.bool,axis:r.oneOf(["x","y"]),maxRubberBandDistance:r.oneOfType([r.number,r.oneOf([!1])]),transitionStyle:r.string,onTap:r.func,onPanEnd:r.func,children:r.element,className:r.string},getDefaultProps:function(){return{rubberBandTiming:100,lubricity:.5,axis:"x",maxRubberBandDistance:100,transitionStyle:"all .5s ease-out",stopPropagation:!1,onTap:function(){},onPanEnd:function(){}}},translate:function(e,t){this.setState({translate:e,translateTransition:t})},snapBack:function(e){this.afterBoundsTime=0,this.offset=e,this.translate(e,!0)},autotranslate:function(){var e,t,n,a=this.amplitude,o=this.offsetTarget,i=this.offsetMin,r=this.offsetMax,s=this.props.rubberBandTiming;if(a&&!this.dragging){if(e=Date.now()-this.releaseTime,(n=o+(t=Math.round(-a*Math.exp(-e/325))))>=r||n<=i)if(!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(n>r?n=Math.min(n,r+this.props.maxRubberBandDistance):n<i&&(n=Math.max(n,i-this.props.maxRubberBandDistance))),0!==this.afterBoundsTime){if(Date.now()-this.afterBoundsTime>s||this.state.translate===n)return void this.snapBack(n>=r?r:i)}else this.afterBoundsTime=Date.now();t>.5||t<-.5?(this.translate(n),requestAnimationFrame(this.autotranslate)):this.translate(o)}},updateOffsetMin:function(){var e=u.findDOMNode(this);this.offsetMin=e[this.maskSpace]-e.firstChild[this.maskScroll]},handleHammer:function(e){var t,n=1e3*e[this.velocityPropName],a=this.offsetMax,o=this.offsetMin,i=!0;switch(t=this.offset+e[this.deltaPropName],!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(t>a?t=Math.min(t,a+this.props.maxRubberBandDistance):t<o&&(t=Math.max(t,o-this.props.maxRubberBandDistance))),e.type){case"panup":case"pandown":Math.abs(e.deltaY)>Math.abs(e.deltaX)&&(this.dragging=!0,this.translate(t));break;case"panright":case"panleft":Math.abs(e.deltaX)>Math.abs(e.deltaY)&&(this.dragging=!0,this.translate(t));break;case"panend":this.dragging=!1,this.props.onPanEnd(e),0===e.distance?i=!1:Math.abs(n)>10?("y"===this.props.axis&&Math.abs(e.velocityY)>Math.abs(e.velocityX)||"x"===this.props.axis&&Math.abs(e.velocityX)>Math.abs(e.velocityY))&&(this.amplitude=this.props.lubricity*n,this.offsetTarget=Math.round(t+this.amplitude),this.releaseTime=Date.now(),this.offset=this.offsetTarget,this.autotranslate()):t>=a?(this.offset=a,this.translate(a,!0)):t<=o?(this.offset=o,this.translate(o,!0)):this.offset=t;break;case"tap":this.props.onTap(e),i=!1}i&&(e.preventDefault(),this.props.stopPropagation&&e.srcEvent.stopPropagation())},handleOrientationChange:function(){var e,t,n;this.updateOffsetMin(),e=this.offset,t=this.offsetMax,n=this.offsetMin,e>=t?(this.offset=t,this.translate(t)):e<=n&&(this.offset=n,this.translate(n))},componentWillMount:function(){switch(this.props.axis){case"y":this.gestures="tap panend panup pandown",this.deltaPropName="deltaY",this.velocityPropName="velocityY",this.maskSpace="offsetHeight",this.maskScroll="scrollHeight";break;case"x":default:this.gestures="tap panend panleft panright",this.deltaPropName="deltaX",this.velocityPropName="velocityX",this.maskSpace="offsetWidth",this.maskScroll="scrollWidth"}},componentDidMount:function(){var e=u.findDOMNode(this);d=Modernizr.prefixed("transform"),i=Modernizr.prefixed("transition"),c[i],this.hammer=new o(e,{touchAction:"y"===this.props.axis?"pan-x":"pan-y",cssProps:{tapHighlightColorString:""}}).on(this.gestures,this.handleHammer),this.hammer.get("pan").set({direction:o.DIRECTION_ALL,threshold:10}),this.updateOffsetMin(),window.addEventListener("orientationchange",this.handleOrientationChange,!1)},componentWillUnmount:function(){window.removeEventListener("orientationchange",this.handleOrientationChange),this.hammer.off(this.gestures,this.handleHammer)},componentDidUpdate:function(e){e!==this.props&&this.handleOrientationChange()},render:function(){var e=this.props.axis,t=this.state.translate,n=this.state.translateTransition,a={},o=0,r=0;return"x"===e?o=t+"px":"y"===e&&(r=t+"px"),a[d]="translate3d("+o+","+r+",0)",n&&(a[i]=this.props.transitionStyle),s.createElement("div",Object.assign({},this.props,{className:["Ov(h)",this.props.className].join(" "),"aria-hidden":"true"}),s.createElement("div",{style:a},this.props.children))}}),e.exports=a},2837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(6)),o=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intl;return o.default.createElement("span",{className:"D(ib) Bgc(#6526c1) C(#fff) Bg(editorsPickGradient) Fw(600) Fz(11px) Px(6px) Py(3px) Bdrs(2px) Mend(11px) Mt(4px)"},t.formatMessage({id:"EDITORS_PICK"})+" ")};r.displayName="EditorsPick",r.propTypes={intl:a.default.object};var s=r;t.default=s},2838:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=y(n(1247)),i=y(n(71)),r=y(n(21)),s=n(222),l=y(n(0)),u=y(n(20)),d=y(n(1248)),c=y(n(6)),f=y(n(4)),p=n(1260),m=y(n(2303)),h=y(n(1350)),g=n(1471),b=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1342));function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){return e&&e.__esModule?e:{default:e}}var _=(0,u.default)({displayName:"StorylineScrollview",autobind:!1,mixins:[i.default,s.ComponentMixin],contextTypes:{session:c.default.object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE",navParams:"SKIP_SHOULD_UPDATE",wrapperModel:"SKIP_SHOULD_UPDATE"}}},propTypes:{},componentDidMount:function(){var e=this.props.storyline||r.default.List();this.state.numToRender<e.size&&this.setState({numToRender:e.size})},componentWillReceiveProps:function(e){this.props.storyline!==e.storyline&&this.setState(this.getState(e,!0))},getState:function(e,t){var n=e.storyline||r.default.List();return{numToRender:t?n.size:e.config.pageload_storyline_count||3,showImages:n.every(this.getStoryImage)}},getInitialState:function(){return this.reelStore=this.getStore(h.default),this.getState(this.props,!1)},getStoryImage:function(e){if("reel"===e.get("subtype")&&e.getIn(["imageSize","img:reel"]))return e.getIn(["imageSize","img:reel"]);var t=e.get("images")||r.default.Map();return t.get("img:178x100")||t.get("img:100x100")},getStorylineComponents:function(){var e=this,t=this,n=t.props,a=t.state,i=n.config,s=a.showImages,u=n.storyline||r.default.List(),c=n.config.ui||{},m=c.show_read,h="smartphone"===t.context.session.dimensions.device;if((c.storyline_min||1)>u.size)return null;var v=(0,o.default)("Td(n) D(ib) Va(t) C($c-fuji-blue-4-b) W(100%)",{"C(#959595):vi":m}),y=(0,o.default)("Fz(13px) LineClamp(3,48px)",{"C(#000) Fw(n)":h,"C(#0078ff):h Fw(b)":!h});return(u=u.slice(0,a.numToRender)).map((function(a,o){var u="reel"===a.get("subtype");r.default.Map.isMap(a)&&u&&(a=(0,g.fetchReelArticleWithThumbnail)(a,i,e.reelStore,i.channelName));var m,_,x=u&&h?c.storyline_reel_link_path:a.get("link")||"",M=s?t.getStoryImage(a):null,C=b.getBaseI13n(a,M,!0),S={className:v,followLink:b.shouldFollowLink(a,n.config),href:x,i13nModel:Object.assign({},C,{elm:"rhdln",pos:o+2,cposy:a.get("cposy")}),navParams:{itemI13n:(0,l.default)(e.props,["navParams","itemI13n"]),url:a.get("url")}},P=a.get("title");if(M){_={maxWidth:M.get("width")},m=f.default.createElement(p.Img,{url:M.get("url"),checkPosition:!1,className:"Mb(5px) W(100%) H(a)",forceLoad:!0,width:M.get("width"),height:M.get("height"),alt:P})}return f.default.createElement("li",{className:"D(ib) Mend(12px) Whs(n) W(44%)",style:_,key:o},f.default.createElement(d.default,S,m,f.default.createElement("div",{className:y},P),f.default.createElement("div",{className:"C(#959595) Pt(2px)"},a.get("publisher"))))}))},render:function(){var e,t=(0,o.default)("Mstart(-20px) Mend(-12px) Mt(20px)",this.props.className);return this.props.storyline&&(e=this.getStorylineComponents()),e?f.default.createElement(m.default,{axis:"x",className:t,stopPropagation:!0},f.default.createElement("ul",{className:"Whs(nw) Pos(r) Z(1) Lh(16px) Fz(11px) Mstart(20px)"},e)):null}});t.default=_},2839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n(6)),o=f(n(4)),i=f(n(20)),r=n(70),s=n(1625),l=n(220),u=f(n(71)),d=n(1733),c=f(n(1734));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.default)({mixins:[u.default],displayName:"UserintentConfirm",statics:{storeListeners:[c.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:a.default.string,index:a.default.number,intl:l.intlShape,uuid:a.default.string,publisher:a.default.string,publisherId:a.default.string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent;return e&&e.getStateJson()||{}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(c.default),this.executeAction(d.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},handleShowManagement:function(e){var t=this.props,n=t.uuid,a=t.publisherId;this.executeAction(d.getMutedPublishers,{target:n,showManagement:!0,publisher:a}),e.preventDefault()},handleUserPreference:function(e){var t=this.props,n=t.uuid,a=t.publisher,o=t.publisherId;this.executeAction(d.managePreference,{target:n,isMuted:!0,publisher:a,publisherId:o}),e.preventDefault()},render:function(){var e=this.props,t=e.uuid,n=e.intl,a=e.className,i=void 0===a?"":a,l=e.action,u=void 0===l?"":l,d=e.publisher,c=this.context.getStore("UserStore"),f=c.isSignedIn()||c.isRecognized(),p="show_more"===u?"YOU_WILL_SEE_MORE":"YOU_WILL_SEE_LESS",m=n.formatMessage({id:p},{publisher:d}),h=f?o.default.createElement(r.I13nAnchor,{key:"userintent-manage-"+t,className:"Fl(end) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleShowManagement,onClick:this.handleShowManagement,i13nModel:(0,s.getI13nModel)("confirmManage")},n.formatMessage({id:"MANAGE_PUBLISHERS_SHORT"})):o.default.createElement("div",null,n.formatMessage({id:"SIGN_IN_TO_MANAGE_PUBLISHERS"}),o.default.createElement(r.I13nAnchor,{key:"userintent-signin-"+t,className:"Fz(14px) C($c-fuji-blue-1-a)",href:"https://login.yahoo.com/",i13nModel:(0,s.getI13nModel)("confirmSignin")},n.formatMessage({id:"SIGN_IN"}))),g="Pos(r) userintent-confirm Bgc($c-fuji-grey-a) ($c-fuji-grey-c) Bds(s) Bdc($c-fuji-grey-c) Bdw(1px) Bdrs(2px) Px(14px) Py(12px) ".concat(i);return o.default.createElement("div",{className:g,key:"userintent-confirm-"+t},o.default.createElement("h4",{className:"Fw(n) Fz(15px) Lh(24px)"},m,o.default.createElement(r.I13nAnchor,{key:"userintent-undo-"+t,className:"Mstart(5px) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleUserPreference,onClick:this.handleUserPreference,i13nModel:(0,s.getI13nModel)("confirmUndo",{slk:d})},n.formatMessage({id:"UNDO"})),h))}}),m=(0,l.injectIntl)(p);t.default=m},2840:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=b(n(6)),i=b(n(4)),r=n(1388),s=b(n(1247)),l=b(n(1412)),u=b(n(20)),d=b(n(71)),c=b(n(0)),f=n(1260),p=b(n(1248)),m=b(n(1367)),h=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1342));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e){return e&&e.__esModule?e:{default:e}}var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=(0,u.default)({displayName:"SimpleItem",autobind:!1,mixins:[d.default,m.default],contextTypes:{session:o.default.object},propTypes:{},render:function(){var e=this.props,t=e.config,n=e.data,a=t.ui||{},o=a.view,l=a.showSummary||!1,u=a.itemSummaryClass||"",d="row"===o,p="headlines"===o,m=this.context.session.dimensions.device,g="smartphone"===m,b="smartphone-lite"===m,v=p&&(g||b),y="imageView"===o,_=h.isLazyLoad(e),x=n.get("images"),M=(d?n.getIn(["images","img:198x115"]):y?n.getIn(["images","img:300x100"]):g||b?n.getIn(["images","img:100x100"]):n.getIn(["images","img:72x72"]))||n.getIn(["images","original"]),C=n.get("link")||"",S={data:n,propertyColors:a.property_colors,textClass:"C(#96989f)"},P=h.getBaseI13n(n,M,e.index);P.elm="hdln",P.pos=1;var E,w={className:(0,s.default)("Td(n)",{"D(b) Td(n):f":p,"D(ib) Mt(6px)":!p,"C(#0078ff):h C($c-fuji-blue-4-b)":!v}),followLink:h.shouldFollowLink(n,t),href:C,i13nModel:P,navParams:Object.assign(h.getNavParams(n,t),e.navParams),target:n.get("off_network")?(0,c.default)(t,["offnet","target"]):void 0},I=v?(0,s.default)("M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px)","Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)"):"Fz(13px) Fw(700) Pb(3px) LineClamp(3,48px)";!v&&l&&(I="Fz(13px) Fw(700) Pb(3px) LineClamp(2,47px)");var N=h.getTypeIcon(n,t);return N&&(E=i.default.createElement(r.TypeIcon,{iconSize:16,lazyLoad:_,orbSize:40,type:N})),i.default.createElement("div",{className:(0,s.default)("Lts(n) Whs(n)",{"C($c-fuji-blue-4-b)":!e.read,"C(#959595)":e.read,"Px(9px)":d,"Pend(13px) Pos(r)":p,"Pb(20px) Pstart(20px)":v,"D(tb)":v,"D(b)":!v})},i.default.createElement("div",{className:(0,s.default)({"D(tbr)":v})},i.default.createElement("div",{className:(0,s.default)("Maw(100%) Pos(r) Cur(p) Bdrs(2px)",{"Pb(58.1%) Bgc(#ddd)":d,"D(tbc) W(120px) W(100px)--maw370":v&&x,"W(72px) H(72px) D(ib) Mend(10px) Fl(start)":p&&!g&&!b,"W(300px) H(100px) D(ib) Mend(10px) Fl(start) Bgc(#ddd)":y,"D(n)":p&&!x,"H(0)":!(p&&!g&&!b||y)})},i.default.createElement(f.Img,{checkPosition:!1,className:(0,s.default)("Tdrsu(0s)!",{"StretchedBox W(100%) H(100%) ie-7_H(a) Bdrs(2px)":!p,"Bdrs(2px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":v,"W(100%) H(100%) ie-7_H(a) Bdrs(2px)":p&&!g&&!b}),forceLoad:!_,url:M&&M.get("url")}),E),i.default.createElement("div",{className:(0,s.default)({"D(tbc) Va(t) W(100%)":p,"Pstart(20px)":x&&v})},p?i.default.createElement("div",null,this.renderHeadline(w,I,S,y),this.renderComment()):this.renderHeadline(w,I,S,y),l?i.default.createElement("p",{className:(0,s.default)("LineClamp(3,57px)",u)},n.get("summary")):"")))},renderHeadline:function(e,t,n,a){var o=this.props||{},l=(o.config||{}).ui||{},u=l.isAttributionAboveTitle||!1,d=l.attributionClass||"",c=o.data;return c?i.default.createElement(p.default,e,u?i.default.createElement(r.Attribution,v({className:(0,s.default)("Fz(12px) Ell",d)},n)):null,a?null:i.default.createElement("h4",{className:t},c.get("title")),l.attribution_pos?i.default.createElement(r.Attribution,v({className:"Fz(12px) C(#959595)! Ell Mb(2px)"},n)):null,i.default.createElement("u",{className:"StretchedBox"})):null},renderComment:function(){var e=this.props.data,t=this.props.config,n=this.props.navParams;if(!e||!t||!h.shouldRenderComment(e,t))return null;var a={count:e.get("commentCount"),stringClassName:"Mstart(6px) Fw(500)! Fz(12px)!",showDescription:!0,iconColor:"#188fff",iconSize:18,navParams:Object.assign(h.getNavParams(e,t),n),textAlign:"right",url:e.get("link"),uuid:e.get("id")};return i.default.createElement(l.default,a)}});t.default=y},2841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=n(2307))&&a.__esModule?a:{default:a}},2842:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(2843)),o=s(n(2103)),i=s(n(1589)),r=s(n(2104));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)(r.default,{fetchMoreAction:o.default,loadStreamAction:i.default});t.default=l},2843:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.loadStreamAction)throw new Error(["A `loadStreamAction` is required to create a Stream.","Provide a `loadStreamAction` in the options passed to `createStream`."].join("\n"));var n=(0,D.default)("Stream:"+e.displayName);return(0,i.default)({displayName:"Stream:"+e.displayName,autobind:!1,mixins:[r.default],statics:{componentConfig:t.componentConfig||{bundleName:"tdv2-applet-stream",name:"componentStream"},initializeAction:t.loadStreamAction,resources:t.resources||{streamItems:{action:O.default,params:T.default,fallbackParams:k.default,resource:"StreamService"}}},contextTypes:{getComponent:c.default.func,intl:c.default.object,localStorage:c.default.object,logger:c.default.object,renderTarget:c.default.object.isRequired,session:c.default.object},propTypes:{},getDefaultProps:function(){return{componentConfig:{category:""}}},getInitialState:function(){n("getInitialState");var e=this.props;this.store=this.getStore(P.default),this.langStore=this.getStore(M.default),this.pageStore=this.getStore(C.default),this.routeStore=this.getStore(S.default);var t={config:this._getConfig(e),fetching:!1,isMounted:!1};return t.data=this._getData(e.id,t.config.category),t},initialComponentActions:function(){if(!this.initialActionsExecuted){var e=this.state,t=e.config,n=t.ui||{},a=e.data.get("stream_items");if(a){if(this.initialActionsExecuted=!0,((0,l.default)(t,["batches","start_index"])||0)>0)return;if(n.dispatch_content_store){var o=!!(0,b.getAppIdFromPageConfig)(this);this.executeAction(E.default,{items:a.toJS(),loadContentAction:o?w.default:void 0,snippets:!0,sourceId:this.props.id,prefetch:t.use_prefetch,redisCompress:t.redisCompress,useSlingstoneLcp:h.shouldUseSlingstoneLcp(t),ssEP:t&&t.batches&&t.batches.ss_endpoint||""})}}}},componentWillMount:function(){this.onStreamStoreChange=this.onStreamStoreChange.bind(this)},componentDidMount:function(){n("componentDidMount");var e=this;e.subscribers=[(0,m.default)("scroll",e.onScroll.bind(e),{enableScrollInfo:!0}),(0,m.default)("resize",e.onResize.bind(e))],e.store.addChangeListener(e.onStreamStoreChange),setImmediate((function(){e.initialComponentActions(),e.setState({isMounted:!0})}))},shouldComponentUpdate:function(e,t){var n=this.state,a=t.config.ui||{};return this.context.renderTarget.isActive()&&t.data.get("category")===t.config.category&&(t.newRelatedItems||t.data!==n.data||t.fetching!==n.fetching||t.config.embedComponents!==n.config.embedComponents||t.isMounted!==n.isMounted&&(-1!==t.config.pageload_item_count||a.show_read)||(0,g.shouldRenderUserintent)(t.config)&&t.userIntentData!==n.userIntentData)},componentDidUpdate:function(){n("componentDidUpdate"),this.state.newRelatedItems&&this.setState({newRelatedItems:!1}),this.onScroll(),this.initialComponentActions(),this.props.onComponentDidUpdate&&this.props.onComponentDidUpdate()},componentWillUnmount:function(){n("componentWillUnmount");this.subscribers&&this.subscribers.forEach((function(e){e.unsubscribe()})),this.store.removeChangeListener(this.onStreamStoreChange)},componentWillReceiveProps:function(e){n("componentWillReceiveProps");var t=this._getConfig(e);t.pageload_item_count=-1,this.setState({config:t,data:this._getData(this.props.id,t.category)}),this._maxScroll=0},onScroll:function(e,n){if(this.context.renderTarget.isActive()){var a=this.state.config,o=this.state.data,i=o.get("more_items")||d.default.List(),r=o.get("stream_pagination"),s=(0,l.default)(a,["batches","pagination"]),u=(0,l.default)(a,["ui","scrollbuffer"])||900;if(s&&!this.state.fetching&&(0!==i.count()||r)){var c=n&&n.scroll&&n.scroll.top||window.scrollY||document.documentElement.scrollTop;if(!this._maxScroll||c>this._maxScroll){var f=p.default.findDOMNode(this).getBoundingClientRect(),m=window.innerHeight||document.documentElement.clientHeight;if(this._maxScroll=Math.min(c,c+f.bottom),f.height&&f.bottom-u<m){if(!t.fetchMoreAction)throw new Error(["A `fetchMoreAction` is required to create a Stream with pagination enabled.","Either disable pagination in ./configs/component<MyComponent>.js under","`batches.pagination`, or provide a `fetchMoreAction` in the options passed","to `createStream`."].join("\n"));a.pageload_image_count=-1,this.state.fetching=!0,this.executeAction(t.fetchMoreAction,{componentProps:this.props,config:a,resource:r?"StreamService":null})}}}}},onResize:function(e,t){this._maxScroll=0,this.onScroll(null,t)},onStreamStoreChange:function(e){if(n("onStreamStoreChange"),e){var t=this.props.id,a=e.type,o=this.state.config,i=o.ui||{},r=(0,l.default)(o,["batches","start_index"])||0,s=o.category||"";if(e.id===t||r>0&&e.category===s)"STREAM_INIT"!==a&&"STREAM_BATCH"!==a||this.setState({data:this._getData(t,s),fetching:!1}),"STREAM_RELATED"===a&&this.setState({newRelatedItems:!0}),"STREAM_INIT"===a?(this._maxScroll=0,e.cached&&!e.fromLS||(this.initialActionsExecuted=!1)):this.onScroll();else if("STREAM_RESET"===a&&o.clear_on_navigate)this.setState({data:this._getData(t,s)});else if("STREAM_UPDATE_UUID"===a&&e.uuid&&i.related_enabled)setImmediate(this._fetchRelated.bind(this,e));else if("STREAM_PAGE_CATEGORY"===a&&!0===o.use_page_category){var u=this.store.getPageCategory();u&&s!==u&&(o.category=u,this.setState({config:o}))}else"USERINTENT_CHANGE"===a&&(0,g.shouldRenderUserintent)(o)&&this.setState({userIntentData:e})}},_fetchRelated:function(e){var t=this.state.config.category,n=this.props.id,a=[],o=this.store;"STREAM_UPDATE_UUID"===e.type&&e.uuid&&o.isStreamItem(n,t,e.uuid)&&a.push(e.uuid),a.length&&this.executeAction(I.default,{config:this.state.config,instanceId:this.props.id,uuids:a})},_getData:function(e,t){var n=this.store.getInstance(e,t);return n.get("fromLS")?d.default.Map():n.get("data")},_getConfig:function(e){var t=Object.assign({},e.componentConfig,h.getCategoryOverrides(this.store,e.componentConfig));t.content_site=this._getContentSite(),t.twitter_id=this._getTwitterId();var n=t.ui&&t.ui.view;return"megastream"===n?(this.context.logger.warn("Stream: ui.view=megastream is deprecated. Please move to ui.view=mega"),t.ui=Object.assign({},t.ui,{button_pos:"right",image_classes:"W(26.5%) Maw(220px)",view:"mega"})):"list"===n&&(this.context.logger.warn("Stream: ui.view=list is deprecated. Please move to ui.view=mega"),t.ui=Object.assign({},t.ui,{view:"mega"})),"failsafe"===(0,l.default)(this.context,["session","dimensions","mode"])?t=(0,u.default)({},t,h.getFailsafeConfigs(t)):(0,l.default)(this.context,["session","isLightWeightBrowser"],!1)&&(t=(0,u.default)({},t,h.getLightWeightConfigs(t))),t},_getContentSite:function(){var e=this.routeStore.getCurrentRoute()||{};return(0,l.default)(e,["params","contentSite"])||e.contentSite||(0,l.default)(this.context,["session","dimensions","site"])||"fp"},_getTwitterId:function(){var e=this.pageStore.getPageData();return(0,l.default)(e,["meta","name","twitter:site"])||(0,l.default)(e,["meta","property","twitter:site"])||"Yahoo"},_getItemComponent:function(e,t,n){var a=Object.assign({props:{}},t),o=this.state.config,i=this.state.userIntentData;return a.props.key="item-".concat(n,"-").concat(e.get("id")),a.props.id="item-".concat(n),a.props.index=n,a.props.locales=this.props.locales,a.props.messages=this.langStore.getStrings(a.bundleName),a.props.navParams=h.getItemNavParams(o,this.state.data,e,n),a.props.config=o,a.props.data=e,(0,g.shouldRenderUserintent)(o)&&i&&(a.props.userIntentData=i),(0,l.default)(o,["ui","related_enabled"])&&(a.props.relatedItems=this.store.getRelatedItemsByUuid(e.get("id"))),a},_getEmbedComponents:function(e){var t=e.embedComponents;if(!t)return[];var n=(0,l.default)(this.pageStore.getComposite(this.props.id),["components"])||[],a=0;return t.map((function(e){var t;t=e.childComponent?n[a++]:{bundleName:e.bundleName,name:e.name,props:e.props||{}};var o="streamembed-"+e.index;return{className:e.className,component:t,key:o,index:e.index}}))},_makeItems:function(e,t,n){var a=this,i=a.context.localStorage,r="desktop"===a.context.session.dimensions.device,s=this.state.isMounted&&i&&i.getItem("strm-read")||{},l=n.ui||{},u=l.show_read,d=l.item_classnames;return t.map((function(t,n){var i=e.get(n),c=a._getItemComponent(i,t,n),f=i.get("id"),p=i.get("isPromoAd"),m=(0,o.default)("js-stream-content",{"D(n)":c.props.hideItem,"Pos(r)":r,"Ov(h) Fl(start) P(0px) My(0px) Mb(-4px)":"thingrid"===l.layout,"H(210px) W(50%)--po W(33%)--lso":"thingrid"===l.layout&&!p,"W(100%)":"thingrid"===l.layout&&p},d);return c.props.read=!(!u||!s[f]),{key:"list-"+n,component:c,itemClasses:m}}))},_makeTitle:function(e){var t=e.ui||{},n=t.title;if("disabled"!==n){var a=t.titleKey,o=t.titleValues;if(!a&&("sidekick"===t.view&&(a="SIDEKICK_TITLE"),"discussion"===t.view&&(a="SIDEPIC_TITLE"),e.use_article_category)){var i=this.store.getArticleCategoryLabel();i?(a="MORE_ON",o={category:i}):a="MORE"}if(n||a){var r={className:t.title_classnames,intl:this.context.intl,title:n,titleKey:a,titleValues:o};return f.default.createElement(_.default,r)}}},getContentIndexByUuid:function(e,t){var n,a=e.size;if(a>0&&t)for(n=0;n<a;n++)if(e.getIn([n,"id"])===t)return n;return-1},render:function(){n("render");var t=this.state,a=t.data||d.default.Map(),o=t.config||{},i=o.ui||{},r=i.view;if(a.get("category")!==o.category)return f.default.createElement("div",null);var u=a.get("stream_items")||d.default.List(),c=u.size,p=(0,l.default)(o,["batches","start_index"])||0,m=(0,l.default)(o,["batches","end_index"])||c-1,h=o.pageload_item_count,g=!t.isMounted&&h>=0?h:c;m=Math.min(m,p+g-1);var b,y=u.slice(p,m+1),_=a.get("components")||d.default.List();if(_=_.slice(p,m+1).toJS(),i.exclude_current_content){var M=this.context.getStore(x.default).getCurrentContent(),C=M&&(0,s.get)(M,"uuid"),S=this.getContentIndexByUuid(y,C);S>=0&&(y=y.splice(S,1),_.splice(S,1),c--)}if(0===p&&(c<o.min_count||0===c&&o.category)){if(!1===o.ui.show_error)return f.default.createElement("div",null);b=f.default.createElement(v.default,{itemCount:c,config:o})}var P=Object.assign({cat:o.category,ccode:a.get("ccode"),itc:0,sec:"strm"},o.i13n);"sidekick"===r&&(P.sec="sdkick");var E=f.default.createElement(L,{embedComponents:this._getEmbedComponents(o),errorItem:b,items:this._makeItems(y,_,o),i13nModel:P}),w=Object.assign({appletTitle:this._makeTitle(o),errorItem:b,id:this.props.id},this.state);return f.default.createElement(e,w,E)}})};var o=j(n(1247)),i=j(n(20)),r=j(n(71)),s=n(416),l=j(n(0)),u=j(n(23)),d=j(n(21)),c=j(n(6)),f=j(n(4)),p=j(n(49)),m=j(n(224)),h=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=A();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1662)),g=n(1342),b=n(1291),v=j(n(2099)),y=j(n(2844)),_=j(n(2100)),x=j(n(1254)),M=j(n(105)),C=j(n(12)),S=j(n(11)),P=j(n(1487)),E=j(n(1315)),w=j(n(1296)),I=j(n(2101)),N=n(70),T=j(n(1490)),k=j(n(2102)),O=j(n(1918)),D=j(n(1488));function A(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function j(e){return e&&e.__esModule?e:{default:e}}var L=(0,N.createI13nNode)(y.default)},2844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1264),o=n(1388),i=s(n(6)),r=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=["off_network","type"],d=function(e,t){var n=e.items,i=e.errorItem,s=e.embedComponents,d=t.session||{},c=d.isDevInfo,f=d.isYnet,p=n.map((function(e,n){var a=e.component,i=a.props.data,s=t.getComponent(a.bundleName,a.name),d={className:e.itemClasses||""};return c&&(d.className+=" Pos(r)"),f&&u.forEach((function(e){var t=i.get(e);void 0!==t&&(d["data-test-"+e]=String(t))})),r.default.createElement("li",l({key:e.key},d),c?r.default.createElement(o.DebugStreamItem,{data:i}):void 0,r.default.createElement(s,a.props))}));return s&&s.forEach((function(e){e&&e.component&&e.index<=p.length&&p.splice(e.index,0,r.default.createElement(a.Composite,{className:e.className,components:[e.component],key:e.key,nodeName:"li"}))})),r.default.createElement("ul",{className:"My(0) Ov(h) P(0) Wow(bw)"},p,i)};d.displayName="Items",d.contextTypes={getComponent:i.default.func.isRequired,session:i.default.object},d.propTypes={embedComponents:i.default.array,errorItem:i.default.object,items:i.default.array};var c=d;t.default=c}}]);