(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{1165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stores=t.controllerViews=void 0;var i=u(n(2097)),s=u(n(1734)),r=u(n(2893)),o=u(n(2894)),a=u(n(2896));function u(e){return e&&e.__esModule?e:{default:e}}var l={Userintent:i.default,UserintentPanel:r.default,UserintentConfirm:o.default,UserintentManagement:a.default};t.controllerViews=l;var c={UserintentStore:s.default};t.stores=c},1473:function(e,t,n){if(void 0===i)var i={};i["dislike-heart"]={name:"dislike-heart",height:14,width:16,path:"M1.253 3.196l9.054 9.053L8 14.666 1.774 8.142c-1.276-1.34-1.45-3.408-.52-4.946zm.874-1.01c.672-.553 1.494-.853 2.363-.853 2.125 0 3.117 1.694 3.51 2.016.406-.332 1.375-2.017 3.51-2.017 1.028 0 1.994.42 2.717 1.18 1.475 1.552 1.475 4.077 0 5.628l-3 3.144-9.1-9.1z"},e.exports&&(e.exports=i["dislike-heart"])},1625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getI13nModel=function(e,t){if(!s[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},s[e],t):s[e]},t.I13nButton=void 0;var i=n(70),s={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};var r=(0,i.createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1});t.I13nButton=r},2097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=g(n(6)),s=g(n(4)),r=g(n(20)),o=n(70),a=n(1625),u=n(220),l=g(n(1258)),c=n(1246),d=g(n(2098)),f=g(n(71)),h=g(n(425)),p=n(1733),m=g(n(1734));function g(e){return e&&e.__esModule?e:{default:e}}var b=(0,r.default)({mixins:[f.default,h.default],displayName:"Userintent",statics:{storeListeners:[m.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:u.intlShape,config:i.default.object,uuid:i.default.string,publisher:i.default.string,publisherId:i.default.string,componentConfig:i.default.object},getDefaultProps:function(){return{className:"",index:1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){var e=this.props.config,t=(e=void 0===e?{}:e).discoverIndex,n=void 0===t?1:t;this.state.inViewport||this.props.index!==n||this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillUnmount:function(){this.stopListeningToViewport()},stopListeningToViewport:function(){this.onEnterViewport(null)},handleEnterViewport:function(){var e=this.props.config;this.executeAction(p.setTooltipViews,{componentConfig:e}),this.setState({inViewport:!0}),this.stopListeningToViewport()},getData:function(){var e=this.props.publisher,t=this.stores.userintent,n=t&&t.getStateJson()||{},i=n.mutedPublishers,s=(void 0===i?{}:i)[e]||{};return n.isMuted=s.muted||!1,n},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(m.default),this.executeAction(p.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},shouldRenderDiscover:function(){var e=this.props.config,t=(e=void 0===e?{}:e).discoverIndex,n=void 0===t?1:t;return this.props.index===n&&this.state&&this.state.showTooltip},shouldRenderPanel:function(){var e=this.props.uuid,t=this.state,n=t.target,i=t.showPanel;return this.state&&i&&n===e},handleDimissTooltip:function(e){var t=this.props.config;this.executeAction(p.setTooltipSeen,{componentConfig:t}),e.preventDefault()},handleShowPanel:function(e){var t=this.props,n=t.uuid,i=t.publisherId;this.executeAction(p.getMutedPublishers,{target:n,showPanel:!0,publisher:i}),e.preventDefault()},handleHidePanel:function(){this.executeAction(p.getMutedPublishers)},handleUserPreference:function(){var e=this.props,t=e.uuid,n=e.publisher,i=e.publisherId,s=this.state.isMuted;this.executeAction(p.managePreference,{target:t,isMuted:s,publisher:n,publisherId:i})},renderDiscover:function(){var e=this.props,t=e.uuid,n=e.intl;return this.shouldRenderDiscover()?s.default.createElement("div",{className:"userintent-tooltip ".concat("Pos(a) P(12px) W(183px) End(0) Fw(200) Ta(start) H(a) Fz(12px) T(30px) Lh(1.5) Z(1) C(#fff) Bgc(#188fff) Bdrs(2px) Bxsh(userintentBoxshadow)"," ").concat("Pos(a)::b End(6%)::b B(100%)::b W(0)::b H(0)::b Bd(userintentBorderTransparent)::b Bdbc(#188fff)::b Cnt(userintentEmpty)::b")},s.default.createElement("div",{className:"Fw(500)"},n.formatMessage({id:"DONT_LIKE_THIS_SOURCE"})),s.default.createElement("div",null,n.formatMessage({id:"CUSTOMIZE_HERE"})),s.default.createElement(o.I13nAnchor,{key:"userintent-close-"+t,className:"userintent-dimiss-tooltip D(b) O(n) Pos(a) T(30%) End(5%) Bdrs(10px) Mt(-10px)",style:{background:"rgba(0,0,0,.3)"},href:"#",onTouchStart:this.handleDimissTooltip,onClick:this.handleDimissTooltip,i13nModel:(0,a.getI13nModel)("discoverClose")},s.default.createElement(c.Icon,{className:"",asset:l.default,color:"#188fff",height:20,width:20}))):void 0},renderPanel:function(){var e=this.props,t=e.index,n=e.intl,i=e.uuid,r=e.publisher,o=e.publisherId,a=this.state,u={index:t,intl:n,showPanel:a.showPanel,isMuted:a.isMuted,uuid:i,publisher:r,publisherId:o,hidePanelAction:this.handleHidePanel,userPreferenceAction:this.handleUserPreference};return this.shouldRenderPanel()?s.default.createElement(d.default,u):void 0},render:function(){var e=this.props,t=e.uuid,n=e.publisher,i=e.className,r=void 0===i?"":i,u=this.handleShowPanel,l="userintent-btn-link Va(m) Td(n) Fz(21px) Lh(17px) C(#959595) C(#188fff):h D(ib) desktop_W(100%) Cnt(userintentEllipsis)::b ".concat(r),c={key:"userintent-".concat(t),className:l,href:"#",onTouchStart:u,onClick:u,i13nModel:(0,a.getI13nModel)("userintentBtn",{slk:n})};return s.default.createElement("div",{className:"userintent-wrapper Mt(6px) Pos(r)"},s.default.createElement(o.I13nAnchor,c),this.renderDiscover(),this.renderPanel())}}),v=(0,u.injectIntl)(b);t.default=v},2098:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var r=i?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(n,s,r):n[s]=e[s]}n.default=e,t&&t.set(e,n);return n}(n(4)),s=c(n(6)),r=n(1625),o=c(n(1399)),a=n(220),u=c(n(1473)),l=n(1246);function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).call(this,e))}var n,s,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(s=[{key:"handleClickOutside",value:function(e){var t=this.props,n=t.showPanel,i=t.hidePanelAction;n&&i()}},{key:"render",value:function(){var e=this.props,t=e.uuid,n=e.intl,s=e.isMuted,o=e.publisher,a=e.userPreferenceAction,c=s?"#ff6368":"#ccc",d="".concat(s?n.formatMessage({id:"UNDO"}):""," ").concat(n.formatMessage({id:"SHOW_LESS_OF"},{publisher:o}));return i.default.createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+t},i.default.createElement(r.I13nButton,{onClick:a,i13nModel:(0,r.getI13nModel)("panelClick",{slk:o,elm:s?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},i.default.createElement(l.Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:u.default,color:c,height:22,width:22}),d,i.default.createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},n.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}])&&h(n.prototype,s),o&&h(n,o),t}(i.PureComponent);b.propTypes={className:s.default.string,index:s.default.number,intl:a.intlShape,showPanel:s.default.bool,isMuted:s.default.bool,uuid:s.default.string,publisher:s.default.string,publisherId:s.default.string,hidePanelAction:s.default.func,userPreferenceAction:s.default.func};var v=(0,o.default)(b);t.default=v},2145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I13nButton=void 0,t.getI13nModel=function(e,t){if(!s[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},s[e],t):s[e]};var i=n(70),s={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};t.I13nButton=(0,i.createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1})},2146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(21)),s=n(222);function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,r(n(2249)).default)("userintent:stores:UserintentStore");t.default=(0,s.createImmutableStore)({storeName:"UserintentStore",handlers:{USERINTENT_FAILURE:"_handleUserintentFailure",USERINTENT_FETCHING:"_handleUserintentFetching",USERINTENT_SUCCESS:"_handleUserintentSuccess",USERINTENT_CRUMB_SUCCESS:"_receiveCrumb"},initialize:function(){this._state=i.default.fromJS({isFetching:!1,target:"",showTooltip:!1,showPanel:!1,showManagement:!1,mutedPublishers:{},crumb:""})},_handleUserintentFailure:function(e){o("_handleUserintentFailure","error",e),this.setState(this._state.withMutations((function(e){e.set("isFetching",!1)})))},_handleUserintentFetching:function(){this.setState(this._state.set("isFetching",!0))},_handleUserintentSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o("_handleUserintentSuccess","payload",e),this.setState(this._state.merge(Object.assign({},e,{isFetching:!1})))},_receiveCrumb:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o("_receiveCrumb","payload",e);var t=e.crumb;t&&this.setState({crumb:t})},getCrumb:function(){return this._state.get("crumb")},getStateJson:function(){return this._state.toJSON()},getState:function(){return this._state}}),e.exports=t.default},2319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCrumb=function(e,t,n){if(e.getStore(o.default).getCrumb())return n&&n();e.service.read("UserintentService.getCrumb",{},{},(function(t,i){return t||!i?(e.dispatch("USERINTENT_CRUMB_FAIL",t),n(t,null)):(e.dispatch("USERINTENT_CRUMB_SUCCESS",{crumb:encodeURIComponent(i.crumb)}),n&&n())}))},t.getUserintentCookie=u,t.setUserintentCookie=l,t.setTooltipViews=function(e,t,n){var i=(t||{}).componentConfig;u(e,(function(t){var s=t.tooltipViews;t.tooltipViews=s?Number(s)+1:1,l(e,{userintentCookie:t,componentConfig:i},(function(){n&&n()}))}))},t.setTooltipSeen=c,t.getMutedPublishers=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],i=e.getStore(o.default),s=i.getCrumb(),r=t.target,a=void 0===r?"":r,u=t.showPanel,l=void 0!==u&&u,d=t.showManagement,f=void 0!==d&&d,h=t.publisher;t.crumb=s,t.ts=(new Date).getTime(),h||f?e.service.read("UserintentService.getMutedPublishers",t,{},(function(i,s){if(i||!s)return e.dispatch("USERINTENT_FAILURE",i),n(i,null);c(e,t,(function(){e.dispatch("USERINTENT_SUCCESS",{target:a,showPanel:l,showManagement:f,mutedPublishers:s.mutedPublishers}),n&&n(s.mutedPublishers)}))})):(e.dispatch("USERINTENT_SUCCESS",{target:a,showPanel:l,showManagement:f}),n&&n())},t.managePreference=function(e,t,n){var i=e.getStore(o.default).getCrumb(),s=t.target,r=t.isMuted,u=t.publisher,l=t.publisherId,c=t.showPanel,d=void 0!==c&&c,f=t.showManagement,h=void 0!==f&&f,p=t.skipChangeDispatch,m=void 0!==p&&p,g=(new Date).getTime(),b=Object.assign({},t,{crumb:i,action:r?"undo_show_less":"show_less",ts:g});l?e.service.read("UserintentService.managePreference",b,{},(function(t,i){if(t||!i)return e.dispatch("USERINTENT_FAILURE",t),n&&n(t,null);e.dispatch("USERINTENT_SUCCESS",{target:s,showPanel:d,showManagement:h,mutedPublishers:i.mutedPublishers}),m||e.dispatch("USERINTENT_CHANGE",function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({target:s},u,!r)),n&&n()})):n&&n(a.http.badRequest("Missing publisher id."))};var i,s=n(2895),r=n(2146),o=(i=r)&&i.__esModule?i:{default:i};var a=n(221);function u(e,t){e.executeAction(s.getUserintentSeenCookie,(function(e){e=e||{},t&&t(e)}))}function l(e,t,n){var i=t.userintentCookie,r=(t.componentConfig||{}).maxDiscoverViews,o=void 0===r?4:r,a=i.tooltipViews<=o;a?e.executeAction(s.setUserintentSeenCookie,i,(function(){e.dispatch("USERINTENT_SUCCESS",{showTooltip:a}),n&&n()})):(e.dispatch("USERINTENT_SUCCESS",{showTooltip:a}),n&&n())}function c(e,t,n){u(e,(function(i){var r=(t||{}).componentConfig,o=(r=void 0===r?{}:r).maxDiscoverViews,a=void 0===o?4:o;i.tooltipViews=a,e.executeAction(s.setUserintentSeenCookie,i,(function(){e.dispatch("USERINTENT_SUCCESS",{showTooltip:!1}),n&&n()}))}))}},2893:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),o=d(r),a=(d(n(6)),n(2145)),u=d(n(1399)),l=(n(220),d(n(1473))),c=n(1246);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==i(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+i(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"handleClickOutside",value:function(e){var t=this.props,n=t.showPanel,i=t.hidePanelAction;n&&i()}},{key:"render",value:function(){var e=this.props,t=e.uuid,n=e.intl,i=e.isMuted,s=e.publisher,r=e.userPreferenceAction,u=i?"#ff6368":"#ccc",d=(i?n.formatMessage({id:"UNDO"}):"")+" "+n.formatMessage({id:"SHOW_LESS_OF"},{publisher:s});return o.default.createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+t},o.default.createElement(a.I13nButton,{onClick:r,i13nModel:(0,a.getI13nModel)("panelClick",{slk:s,elm:i?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},o.default.createElement(c.Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:l.default,color:u,height:22,width:22}),d,o.default.createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},n.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}]),t}(r.PureComponent);t.default=(0,u.default)(f),e.exports=t.default},2894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(6)),s=f(n(4)),r=f(n(20)),o=n(70),a=n(2145),u=n(220),l=f(n(71)),c=n(2319),d=f(n(2146));function f(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)({mixins:[l.default],displayName:"UserintentConfirm",statics:{storeListeners:[d.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:u.intlShape,uuid:i.default.string,publisher:i.default.string,publisherId:i.default.string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent;return e&&e.getStateJson()||{}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(d.default),this.executeAction(c.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},handleShowManagement:function(e){var t=this.props,n=t.uuid,i=t.publisherId;this.executeAction(c.getMutedPublishers,{target:n,showManagement:!0,publisher:i}),e.preventDefault()},handleUserPreference:function(e){var t=this.props,n=t.uuid,i=t.publisher,s=t.publisherId;this.executeAction(c.managePreference,{target:n,isMuted:!0,publisher:i,publisherId:s}),e.preventDefault()},render:function(){var e=this.props,t=e.uuid,n=e.intl,i=e.className,r=void 0===i?"":i,u=e.action,l=void 0===u?"":u,c=e.publisher,d=this.context.getStore("UserStore"),f=d.isSignedIn()||d.isRecognized(),h="show_more"===l?"YOU_WILL_SEE_MORE":"YOU_WILL_SEE_LESS",p=n.formatMessage({id:h},{publisher:c}),m=f?s.default.createElement(o.I13nAnchor,{key:"userintent-manage-"+t,className:"Fl(end) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleShowManagement,onClick:this.handleShowManagement,i13nModel:(0,a.getI13nModel)("confirmManage")},n.formatMessage({id:"MANAGE_PUBLISHERS_SHORT"})):s.default.createElement("div",null,n.formatMessage({id:"SIGN_IN_TO_MANAGE_PUBLISHERS"}),s.default.createElement(o.I13nAnchor,{key:"userintent-signin-"+t,className:"Fz(14px) C($c-fuji-blue-1-a)",href:"https://login.yahoo.com/",i13nModel:(0,a.getI13nModel)("confirmSignin")},n.formatMessage({id:"SIGN_IN"}))),g="Pos(r) userintent-confirm Bgc($c-fuji-grey-a) ($c-fuji-grey-c) Bds(s) Bdc($c-fuji-grey-c) Bdw(1px) Bdrs(2px) Px(14px) Py(12px) "+r;return s.default.createElement("div",{className:g,key:"userintent-confirm-"+t},s.default.createElement("h4",{className:"Fw(n) Fz(15px) Lh(24px)"},p,s.default.createElement(o.I13nAnchor,{key:"userintent-undo-"+t,className:"Mstart(5px) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleUserPreference,onClick:this.handleUserPreference,i13nModel:(0,a.getI13nModel)("confirmUndo",{slk:c})},n.formatMessage({id:"UNDO"})),m))}});t.default=(0,u.injectIntl)(h),e.exports=t.default},2895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTdCookieDomain=void 0,t.setUserintentSeenCookie=function(e,t,n){i.default.setSub("apeaf","userintent",t,{expires:new Date((new Date).setYear((new Date).getFullYear()+1)),path:"/",domain:o(e),json:!0}),n&&n()},t.getUserintentSeenCookie=function(e,t){var n=i.default.getSub("apeaf","userintent",{json:!0});t&&t(n)};var i=r(n(422)),s=r(n(50));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.getTdCookieDomain=function(e){var t=location&&location.href||"https://www.yahoo.com";return t&&"."+s.default.parse(t).hostname||""}},2896:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=h(n(6)),s=h(n(4)),r=h(n(20)),o=n(2145),a=n(220),u=h(n(1258)),l=n(1246),c=h(n(71)),d=n(2319),f=h(n(2146));function h(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)({mixins:[c.default],displayName:"UserintentManagement",statics:{storeListeners:[f.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:a.intlShape,uuid:i.default.string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent,t=e&&e.getStateJson()||{},n=t.target,i=t.showManagement,s=t.mutedPublishers,r=void 0===s?{}:s,o=(this.state||{}).mappedPublishers;return!i||o&&Object.keys(o).length||(o=JSON.parse(JSON.stringify(r))),{target:n,showManagement:i,mutedPublishers:r,mappedPublishers:o}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(f.default),this.executeAction(d.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},handleHideManagement:function(){this.setState({mappedPublishers:{}}),this.executeAction(d.getMutedPublishers,{showManagement:!1})},handlePublisherManagement:function(e,t,n){var i=this.state.target;this.executeAction(d.managePreference,{target:i,isMuted:n,publisher:e,publisherId:t,showManagement:!0,skipChangeDispatch:!0})},renderList:function(){var e=this,t=this.props.intl,n=this.state,i=n.mappedPublishers,r=n.mutedPublishers,a=Object.keys(i),c=a.map((function(n,a){var c=i[n].publisherIdData,d=i[n].publisherName,f=!!r[n];return s.default.createElement("li",{key:a+1,className:"Ov(h) Pb(22px) Mt(11px) Pt(11px) Bdbw(1px) Bdbs(s) Bdbc($c-fuji-grey-b)"},s.default.createElement("span",{className:"Fz(16px) D(ib)"},f?d:t.formatMessage({id:"REMOVED_PUBLISHER"},{publisher:d})),s.default.createElement(o.I13nButton,{onClick:e.handlePublisherManagement.bind(e,d,c,f),i13nModel:(0,o.getI13nModel)("managementClick",{slk:f?"Undo":"Mute"}),role:"button",className:"Fl(end) Pos(r) D(b) Bdw(0) P(0) Ta(start) O(n):f C($c-fuji-blue-1-a) H(22px)"},f?s.default.createElement(l.Icon,{asset:u.default,color:"#e0e4e9",height:22,width:22}):t.formatMessage({id:"UNDO"})))}));return s.default.createElement("ul",{className:"Ovy(s) Mah(70%) Mih(70%)"},a.length&&c||s.default.createElement("li",{className:"Fz(16px) Pt(11px) Pb(11px)"},t.formatMessage({id:"NO_PUB_PREF"})))},render:function(){var e=this.props,t=e.className,n=void 0===t?"":t,i=e.intl,r=e.componentConfig,a=(r=void 0===r?{}:r).publisherPanelMoreDesc,u=void 0===a?"":a,l="userintentmgmt-management Pos(a) T(0) End(0) B(0) Start(0) Pt(30px) Px(30px) Bgc(#fff) "+n;return this.state.showManagement?s.default.createElement("div",{className:"userintentmgmt-management-wrapper Pos(f) T(100px) End(0) B(0) Start(0) W(700px) H(500px) My(0) Mx(a) Bxsh(userintentBoxshadow) Ov(h) Bdrs(2px)"},s.default.createElement("div",{className:l},s.default.createElement("div",{className:"Bxsh(userintentModalBoxshadow) Pb(16px) Mx(-30px)"},s.default.createElement("h2",{className:"Fz(20px) Ta(c)"},i.formatMessage({id:"PUBLISHER_PREFERENCE"})),s.default.createElement("p",{className:"Ta(c) Fz(14px) C($c-fuji-grey-h)"},i.formatMessage({id:"PUBLISHER_PANEL_DESC"})," ",u)),this.renderList(),s.default.createElement(o.I13nButton,{onClick:this.handleHideManagement,i13nModel:(0,o.getI13nModel)("managementClose"),role:"button",className:"Pos(a) B(25px) Bgc(#fff) Start(0) Py(12px) Bdt(1px) Bdts(s) Bdtc($c-fuji-grey-b) C($c-fuji-blue-1-a) W(100%)"},i.formatMessage({id:"DONE"})))):null}});t.default=(0,a.injectIntl)(p),e.exports=t.default}}]);